(this["webpackJsonpformula-manipulation"]=this["webpackJsonpformula-manipulation"]||[]).push([[0],{229:function(e,t,r){e.exports=r(324)},240:function(e,t,r){},251:function(e,t,r){},252:function(e,t,r){},324:function(e,t,r){"use strict";r.r(t);var n,i=r(76),a=r(77),c=r(1),s=r.n(c),o=r(50),u=r.n(o),l=r(10),h=r(15),p=r(13),f=r(11),d=r(14),y=r(35),v=(r(240),r(329)),b=r(330),m=r(331),O=r(328);function x(e,t){return{ruleNames:t,tree:e,type:n.UpdateTree}}function j(e){return{history:e,type:n.SetHistory}}function E(){return{type:n.SaveHistory}}!function(e){e.UpdateTree="Tree/UpdateTree",e.AddToHistory="Tree/AddToHistory",e.Undo="Tree/Undo",e.Redo="Tree/Redo",e.ClearHistory="Tree/ClearHistory",e.LoadHistory="Tree/LoadHistory",e.SetHistory="Tree/SetHistory",e.SaveHistory="Tree/SaveHistory"}(n||(n={}));var g,R=function(e){return e.tree.index>0},k=function(e){return e.tree.index<e.tree.history.length-1},w=function(e){return e.tree.index>=0?e.tree.history[e.tree.index]:void 0},_=r(94),N=r(66),I=r(326),A=r(327),T=r(334),S=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,r=e.id,n=e.icon,i=e.onClickButton,a=Object(_.a)(e,["name","id","icon","onClickButton"]);return c.createElement(I.a,null,c.createElement(A.a,Object.assign({},a,{id:r||"".concat(t.replace(" ",""),"Button"),onClick:i}),c.createElement(N.a,{icon:n}),c.createElement(T.a,{target:r||"".concat(t.replace(" ",""),"Button")},t)))}}]),t}(c.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.createElement(O.a,{inline:!0,onSubmit:function(e){return e.preventDefault()}},c.createElement(S,{id:"Undo",name:"Undo last action",icon:"undo",color:"primary",className:"mr-sm-2",disabled:!this.props.canUndo,onClickButton:this.props.undo}),c.createElement(S,{id:"Redo",name:"Redo",icon:"redo",color:"primary",className:"mr-sm-2",disabled:!this.props.canRedo,onClickButton:this.props.redo}))}}]),t}(c.Component),C=Object(y.b)((function(e){return{canRedo:k(e),canUndo:R(e)}}),(function(e){return{redo:function(){return e({type:n.Redo})},undo:function(){return e({type:n.Undo})}}}))(L),H=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.createElement(v.a,{color:"light",light:!0},c.createElement(b.a,{href:"/"},"Formula Handling - Group 8"),c.createElement(m.a,{navbar:!0},c.createElement(C,null)))}}]),t}(c.Component),U=r(333),P=r(127),M=r.n(P),B=r(332);function D(e){return{line:e,type:g.AddToLog}}function V(){return{type:g.ClearHistory}}function F(e){return{history:e,type:g.SetHistory}}function G(){return{type:g.SaveHistory}}!function(e){e.AddToLog="Console/Log",e.ExecuteInput="Console/ExecuteInput",e.AddToInputHistory="Console/AddToInputHistory",e.ClearHistory="Console/ClearHistory",e.LoadHistory="Console/LoadHistory",e.SetHistory="Console/SetHistory",e.SaveHistory="Console/SaveHistory"}(g||(g={}));var W,z=function(e){return e.console.lines},Q=function(e){return e.console.inputHistory},Y=function(e){return e.console.lines.length>0},J=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,e))).cycle=function(e){if("ArrowUp"===e.key)if(-1===r.state.cycleIndex){var t=r.props.inputHistory.length-1;t>-1&&r.setState({cycleIndex:t,input:r.props.inputHistory[t],tempInput:r.state.input})}else if(0===r.state.cycleIndex){r.props.inputHistory.length;r.setState({cycleIndex:-1,input:r.state.tempInput||""})}else{var n=r.state.cycleIndex-1;r.setState({cycleIndex:n,input:r.props.inputHistory[n]})}else if("ArrowDown"===e.key)if(-1===r.state.cycleIndex){r.props.inputHistory.length>0&&r.setState({cycleIndex:0,input:r.props.inputHistory[0],tempInput:r.state.input})}else if(r.state.cycleIndex===r.props.inputHistory.length-1)r.setState({cycleIndex:-1,input:r.state.tempInput||""});else{var i=r.state.cycleIndex+1;r.setState({cycleIndex:i,input:r.props.inputHistory[i]})}},r.execute=function(){r.props.executeInput(r.state.input),r.setState({input:""})},r.handleInputChange=function(e){r.setState({cycleIndex:-1,input:e.target.value,tempInput:void 0})},r.state={cycleIndex:-1,input:""},r}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return c.createElement(O.a,{inline:!0,onSubmit:function(t){t.preventDefault(),e.execute()}},c.createElement(B.a,{value:this.state.input,onChange:this.handleInputChange,onKeyDown:this.cycle}),c.createElement(A.a,{onClick:this.execute},c.createElement(N.a,{icon:"arrow-right"})))}},{key:"componentDidUpdate",value:function(){var e=M()(".LogView");e.scrollTop(e.prop("scrollHeight"))}},{key:"componentDidMount",value:function(){var e=M()(".LogView");e.scrollTop(e.prop("scrollHeight"))}}]),t}(c.Component),K=Object(y.b)((function(e){return{inputHistory:Q(e)}}),(function(e){return{executeInput:function(t){return e(function(e){return{input:e,type:g.ExecuteInput}}(t))}}}))(J),q=(r(251),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,r=e.id,n=e.icon,i=e.onClickButton,a=Object(_.a)(e,["name","id","icon","onClickButton"]);return c.createElement(A.a,Object.assign({size:"sm"},a,{id:r||"".concat(t.replace(" ",""),"Button"),onClick:i}),c.createElement(N.a,{icon:n}),c.createElement(T.a,{target:r||"".concat(t.replace(" ",""),"Button")},t))}}]),t}(c.Component)),$=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.createElement(q,{id:"Clear",name:"Clear",icon:"trash-alt",color:"danger",disabled:!this.props.canClear,onClickButton:this.props.clear})}}]),t}(c.Component),X=Object(y.b)((function(e){return{canClear:Y(e)}}),(function(e){return{clear:function(){return e(V())}}}))($),Z=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.createElement("div",{className:"LogView"},this.props.lines.map((function(e,t){return e.isInput?c.createElement("p",{key:t},c.createElement("code",{className:"input"},"> "+e.line)):e.isError?c.createElement("p",{key:t},c.createElement("code",{className:"error"},e.line)):c.createElement("p",{key:t},c.createElement("code",{className:"output"},e.line))})))}}]),t}(c.Component),ee=Object(y.b)((function(e){return{lines:z(e)}}))(Z),te=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return c.createElement(c.Fragment,null,c.createElement("div",{className:"HeaderWrapper"},c.createElement(U.a,{className:"ConsoleHeader"},c.createElement("p",{className:"h6"},"Console"),c.createElement(X,null))),c.createElement(U.a,{className:"ConsoleView"},c.createElement(ee,null),c.createElement(K,null)))}}]),t}(c.Component),re=r(97),ne=r(93);!function(e){e.null="null",e.expression="expression",e.number="number",e.variable="variable",e.symbol="symbol",e.summation="summation",e.product="product",e.power="power"}(W||(W={}));var ie=function e(t){Object(l.a)(this,e),this.name=void 0,this.name=t};function ae(e){if(!e)return"null";switch(e.type){case W.null:return"";case W.variable:return e.variable;case W.number:return e.value.toString();case W.expression:return e.children?"?("+e.children.map((function(e){return ae(e)})).join(" ")+")":e.name;case W.symbol:return e.symbol;case W.power:return e.children?"("+ae(e.children[0])+"^"+ae(e.children[1])+")":e.name;case W.summation:return e.children?"("+e.children.map((function(e){return ae(e)})).join(" + ")+")":e.name;case W.product:return e.children?"("+e.children.map((function(e){return ae(e)})).join(" * ")+")":e.name;default:return""}}r(252);var ce=function(e){function t(){var e,r;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(r=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).svg=void 0,r.width=1100,r.tree=function(e){var t=Object(ne.b)(e);return t.data.dx=30,t.data.dy=r.width/(t.height+1),re.c().nodeSize([t.data.dx,t.data.dy])(t)},r.chart=function(e){var t=r.tree(e),n=1/0,i=-n;t.each((function(e){e.x>i&&(i=e.x),e.x<n&&(n=e.x)})),r.svg.attr("viewBox",[0,0,r.width,i-n+2*t.data.dx]);var a=r.svg.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("transform","translate(".concat(t.data.dy/3,",").concat(t.data.dx-n,")")),c=(a.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5).selectAll("path").data(t.links()).join("path").attr("d",re.a().x((function(e){return e.y})).y((function(e){return e.x}))),a.append("g").attr("stroke-linejoin","round").attr("stroke-width",1).selectAll("g").data(t.descendants()).join("g").attr("transform",(function(e){return"translate(".concat(e.y,",").concat(e.x,")")})));c.append("rect").attr("fill",(function(e){return e.children?"#fff":"#eee"})).attr("stroke","#333").attr("x",-25).attr("y",-10).attr("width",50).attr("height",20),c.append("text").style("font-size","1em").attr("dy","0.31em").text((function(e){return e.data.name})).attr("text-anchor","middle").clone(!0).lower().attr("stroke","white")},r}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return c.createElement(c.Fragment,null,c.createElement(U.a,{fluid:!0,className:"TreeView"},c.createElement("svg",{ref:function(t){return e.svg=re.b(t)},width:"100%"}),this.props.tree?c.createElement("span",{className:"StringView"},ae(this.props.tree.tree[0])):null))}},{key:"componentDidUpdate",value:function(){this.props.tree?(this.svg.select("g").remove(),this.chart(this.props.tree.tree[0])):this.svg.select("g").remove()}},{key:"componentDidMount",value:function(){this.props.tree?(this.svg.select("g").remove(),this.chart(this.props.tree.tree[0])):this.svg.select("g").remove()}}]),t}(c.Component),se=Object(y.b)((function(e){return{tree:w(e)}}))(ce),oe=r(16),ue=r.n(oe),le=r(38),he=r(43),pe=(r(254),r(172)),fe=r(17),de=r(67);function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(r,!0).forEach((function(t){Object(de.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var be={inputHistory:[],lines:[]};function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(r,!0).forEach((function(t){Object(de.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xe={history:[],index:-1};function je(e){localStorage.setItem("consoleCache",JSON.stringify(e))}function Ee(){var e=localStorage.getItem("consoleCache");return e?JSON.parse(e):{lines:[],inputHistory:[]}}var ge=r(25),Re=r.n(ge);var ke=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,W.variable))).value=void 0,r.type=W.number,r.value=e,r.name=e.toString(),r}return Object(d.a)(t,e),t}(ie);function we(e){return e.type!==W.summation&&e.type!==W.product&&e.type!==W.power||(e.children=e.children.map((function(e){return we(e)}))),e.type===W.summation?function(e){return e.children=Re.a.compact(e.children.map((function(e){return e.type===W.number&&0===e.value?void 0:e}))),0===e.children.length?new ke(0):e}(e):e.type===W.product?function(e){e.children=Re.a.compact(e.children.map((function(e){return e.type===W.number&&1===e.value?void 0:e})));for(var t=e.children,r=0;r<t.length;r++)if(t[r].type===W.number&&0===t[r].value)return new ke(0);return 0===e.children.length?new ke(1):e}(e):e.type===W.power?function(e){var t=e.children[0],r=e.children[1];if(t.type===W.number&&r.type===W.number){if(0===r.value)return new ke(1);if(1===r.value)return t;if(1===t.value||0===t.value)return t}return e}(e):e}function _e(e){return e.type!==W.summation&&e.type!==W.product&&e.type!==W.power||(e.children=e.children.map((function(e){return _e(e)}))),e.type===W.summation?function(e){var t=0,r=!0,n=!1,i=void 0;try{for(var a,c=e.children[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value;s.type===W.number&&(t+=s.value)}}catch(o){n=!0,i=o}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}if(e.children=Re.a.compact(e.children.map((function(e){return e.type!==W.number?e:void 0}))),0===e.children.length)return new ke(t);0!==t&&e.children.push(new ke(t));return e}(e):e.type===W.product?function(e){var t=1,r=!0,n=!1,i=void 0;try{for(var a,c=e.children[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var s=a.value;s.type===W.number&&(t*=s.value)}}catch(o){n=!0,i=o}finally{try{r||null==c.return||c.return()}finally{if(n)throw i}}if(e.children=Re.a.compact(e.children.map((function(e){return e.type!==W.number?e:void 0}))),0===e.children.length)return new ke(t);1!==t&&e.children.unshift(new ke(t));return e}(e):e.type===W.power?function(e){if(e.children[0].type===W.number&&e.children[1].type===W.number)return new ke(Math.pow(e.children[0].value,e.children[1].value));return e}(e):e}var Ne=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,W.power))).type=W.power,r.children=void 0,r.children=e,r.name="^",r}return Object(d.a)(t,e),t}(ie),Ie=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,W.product))).type=W.product,r.children=void 0,r.children=e,r.name="*",r}return Object(d.a)(t,e),t}(ie),Ae=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,W.summation))).type=W.summation,r.children=void 0,r.children=e,r.name="+",r}return Object(d.a)(t,e),t}(ie);function Te(e){switch(e.type){case W.null:return;case W.number:case W.variable:return function(e){return e}(e);case W.symbol:return;case W.expression:return function(e){var t=Te;if(e.children){if(1===e.children.length){var r=e.children[0];if(r.type===W.variable)return Te(r);if(r.type===W.number)return Te(r)}if(2===e.children.length){var n=e.children;return e.children=Re.a.compact([t(new ke(0)),n[0],t(n[1])]),t(e)}if(3===e.children.length){var i=e.children;if(i[0].type===W.symbol)return Te(i[1]);var a=i[1];if(a.type===W.symbol)switch(a.symbol){case"+":return t(new Ae(Re.a.compact([t(i[0]),t(i[2])])));case"-":return t(new Ae(Re.a.compact([t(e.children[0]),t(new Ie(Re.a.compact([t(new ke(-1)),t(e.children[2])])))])));case"*":return Te(new Ie(Re.a.compact([Te(i[0]),Te(i[2])])));case"/":return t(new Ie(Re.a.compact([t(e.children[0]),t(new Ne(Re.a.compact([t(e.children[2]),t(new ke(-1))])))])));case"^":return t(new Ne(Re.a.compact([t(e.children[0]),t(e.children[2])])));default:return e}}}e.children&&(e.children=Re.a.compact(e.children.map((function(e){return Te(e)}))));return e}(e);default:return e}}var Se,Le=r(128);!function(e){e[e.ERROR=0]="ERROR",e[e.WARNING=1]="WARNING"}(Se||(Se={}));var Ce=function(){function e(){Object(l.a)(this,e),this.errors=[]}return Object(h.a)(e,[{key:"addError",value:function(e){this.errors.push(e)}},{key:"syntaxError",value:function(e,t,r,n,i,a){t&&t.text&&(")"===t.text?this.errors.push({end:n+t.text.length,level:Se.ERROR,line:r-1,message:"Expecting arguments before symbol )",start:n}):this.errors.push({end:n+t.text.length,level:Se.ERROR,line:r-1,message:i,start:n}))}}]),e}(),He=r(20),Ue=r(65),Pe=r(42),Me=r(75),Be=r(40),De=r(33),Ve=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,e)))._interp=new Me.LexerATNSimulator(t._ATN,Object(He.a)(r)),r}return Object(d.a)(t,e),Object(h.a)(t,[{key:"vocabulary",get:function(){return t.VOCABULARY}}]),Object(h.a)(t,[{key:"grammarFileName",get:function(){return"Expression.g4"}},{key:"ruleNames",get:function(){return t.ruleNames}},{key:"serializedATN",get:function(){return t._serializedATN}},{key:"channelNames",get:function(){return t.channelNames}},{key:"modeNames",get:function(){return t.modeNames}}],[{key:"_ATN",get:function(){return t.__ATN||(t.__ATN=(new Ue.ATNDeserializer).deserialize(De.toCharArray(t._serializedATN))),t.__ATN}}]),t}(Pe.Lexer);Ve.VARIABLE=1,Ve.SCIENTIFIC_NUMBER=2,Ve.LPAREN=3,Ve.RPAREN=4,Ve.PLUS=5,Ve.MINUS=6,Ve.TIMES=7,Ve.DIV=8,Ve.GT=9,Ve.LT=10,Ve.EQ=11,Ve.POINT=12,Ve.POW=13,Ve.WS=14,Ve.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],Ve.modeNames=["DEFAULT_MODE"],Ve.ruleNames=["VARIABLE","VALID_ID_START","VALID_ID_CHAR","SCIENTIFIC_NUMBER","NUMBER","UNSIGNED_INTEGER","E","SIGN","LPAREN","RPAREN","PLUS","MINUS","TIMES","DIV","GT","LT","EQ","POINT","POW","WS"],Ve._LITERAL_NAMES=[void 0,void 0,void 0,"'('","')'","'+'","'-'","'*'","'/'","'>'","'<'","'='","'.'","'^'"],Ve._SYMBOLIC_NAMES=[void 0,"VARIABLE","SCIENTIFIC_NUMBER","LPAREN","RPAREN","PLUS","MINUS","TIMES","DIV","GT","LT","EQ","POINT","POW","WS"],Ve.VOCABULARY=new Be.VocabularyImpl(Ve._LITERAL_NAMES,Ve._SYMBOLIC_NAMES,[]),Ve._serializedATN="\x03\uc91d\ucaba\u058d\uafba\u4f53\u0607\uea8b\uc241\x02\x10u\b\x01\x04\x02\t\x02\x04\x03\t\x03\x04\x04\t\x04\x04\x05\t\x05\x04\x06\t\x06\x04\x07\t\x07\x04\b\t\b\x04\t\t\t\x04\n\t\n\x04\v\t\v\x04\f\t\f\x04\r\t\r\x04\x0e\t\x0e\x04\x0f\t\x0f\x04\x10\t\x10\x04\x11\t\x11\x04\x12\t\x12\x04\x13\t\x13\x04\x14\t\x14\x04\x15\t\x15\x03\x02\x03\x02\x07\x02.\n\x02\f\x02\x0e\x021\v\x02\x03\x03\x05\x034\n\x03\x03\x04\x03\x04\x05\x048\n\x04\x03\x05\x03\x05\x03\x05\x05\x05=\n\x05\x03\x05\x03\x05\x05\x05A\n\x05\x03\x06\x06\x06D\n\x06\r\x06\x0e\x06E\x03\x06\x03\x06\x06\x06J\n\x06\r\x06\x0e\x06K\x05\x06N\n\x06\x03\x07\x06\x07Q\n\x07\r\x07\x0e\x07R\x03\b\x03\b\x03\t\x03\t\x03\n\x03\n\x03\v\x03\v\x03\f\x03\f\x03\r\x03\r\x03\x0e\x03\x0e\x03\x0f\x03\x0f\x03\x10\x03\x10\x03\x11\x03\x11\x03\x12\x03\x12\x03\x13\x03\x13\x03\x14\x03\x14\x03\x15\x06\x15p\n\x15\r\x15\x0e\x15q\x03\x15\x03\x15\x02\x02\x02\x16\x03\x02\x03\x05\x02\x02\x07\x02\x02\t\x02\x04\v\x02\x02\r\x02\x02\x0f\x02\x02\x11\x02\x02\x13\x02\x05\x15\x02\x06\x17\x02\x07\x19\x02\b\x1b\x02\t\x1d\x02\n\x1f\x02\v!\x02\f#\x02\r%\x02\x0e'\x02\x0f)\x02\x10\x03\x02\x06\x05\x02C\\aac|\x04\x02GGgg\x04\x02--//\x05\x02\v\f\x0f\x0f\"\"\x02w\x02\x03\x03\x02\x02\x02\x02\t\x03\x02\x02\x02\x02\x13\x03\x02\x02\x02\x02\x15\x03\x02\x02\x02\x02\x17\x03\x02\x02\x02\x02\x19\x03\x02\x02\x02\x02\x1b\x03\x02\x02\x02\x02\x1d\x03\x02\x02\x02\x02\x1f\x03\x02\x02\x02\x02!\x03\x02\x02\x02\x02#\x03\x02\x02\x02\x02%\x03\x02\x02\x02\x02'\x03\x02\x02\x02\x02)\x03\x02\x02\x02\x03+\x03\x02\x02\x02\x053\x03\x02\x02\x02\x077\x03\x02\x02\x02\t9\x03\x02\x02\x02\vC\x03\x02\x02\x02\rP\x03\x02\x02\x02\x0fT\x03\x02\x02\x02\x11V\x03\x02\x02\x02\x13X\x03\x02\x02\x02\x15Z\x03\x02\x02\x02\x17\\\x03\x02\x02\x02\x19^\x03\x02\x02\x02\x1b`\x03\x02\x02\x02\x1db\x03\x02\x02\x02\x1fd\x03\x02\x02\x02!f\x03\x02\x02\x02#h\x03\x02\x02\x02%j\x03\x02\x02\x02'l\x03\x02\x02\x02)o\x03\x02\x02\x02+/\x05\x05\x03\x02,.\x05\x07\x04\x02-,\x03\x02\x02\x02.1\x03\x02\x02\x02/-\x03\x02\x02\x02/0\x03\x02\x02\x020\x04\x03\x02\x02\x021/\x03\x02\x02\x0224\t\x02\x02\x0232\x03\x02\x02\x024\x06\x03\x02\x02\x0258\x05\x05\x03\x0268\x042;\x0275\x03\x02\x02\x0276\x03\x02\x02\x028\b\x03\x02\x02\x029@\x05\v\x06\x02:<\x05\x0f\b\x02;=\x05\x11\t\x02<;\x03\x02\x02\x02<=\x03\x02\x02\x02=>\x03\x02\x02\x02>?\x05\r\x07\x02?A\x03\x02\x02\x02@:\x03\x02\x02\x02@A\x03\x02\x02\x02A\n\x03\x02\x02\x02BD\x042;\x02CB\x03\x02\x02\x02DE\x03\x02\x02\x02EC\x03\x02\x02\x02EF\x03\x02\x02\x02FM\x03\x02\x02\x02GI\x070\x02\x02HJ\x042;\x02IH\x03\x02\x02\x02JK\x03\x02\x02\x02KI\x03\x02\x02\x02KL\x03\x02\x02\x02LN\x03\x02\x02\x02MG\x03\x02\x02\x02MN\x03\x02\x02\x02N\f\x03\x02\x02\x02OQ\x042;\x02PO\x03\x02\x02\x02QR\x03\x02\x02\x02RP\x03\x02\x02\x02RS\x03\x02\x02\x02S\x0e\x03\x02\x02\x02TU\t\x03\x02\x02U\x10\x03\x02\x02\x02VW\t\x04\x02\x02W\x12\x03\x02\x02\x02XY\x07*\x02\x02Y\x14\x03\x02\x02\x02Z[\x07+\x02\x02[\x16\x03\x02\x02\x02\\]\x07-\x02\x02]\x18\x03\x02\x02\x02^_\x07/\x02\x02_\x1a\x03\x02\x02\x02`a\x07,\x02\x02a\x1c\x03\x02\x02\x02bc\x071\x02\x02c\x1e\x03\x02\x02\x02de\x07@\x02\x02e \x03\x02\x02\x02fg\x07>\x02\x02g\"\x03\x02\x02\x02hi\x07?\x02\x02i$\x03\x02\x02\x02jk\x070\x02\x02k&\x03\x02\x02\x02lm\x07`\x02\x02m(\x03\x02\x02\x02np\t\x05\x02\x02on\x03\x02\x02\x02pq\x03\x02\x02\x02qo\x03\x02\x02\x02qr\x03\x02\x02\x02rs\x03\x02\x02\x02st\b\x15\x02\x02t*\x03\x02\x02\x02\r\x02/37<@EKMRq\x03\b\x02\x02",Ve.__ATN=void 0;var Fe=r(37),Ge=r(56),We=r(64),ze=r(62),Qe=r(29),Ye=r(63),Je=r(31),Ke=r(22),qe=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,e)))._interp=new Ye.ParserATNSimulator(t._ATN,Object(He.a)(r)),r}return Object(d.a)(t,e),Object(h.a)(t,[{key:"vocabulary",get:function(){return t.VOCABULARY}},{key:"grammarFileName",get:function(){return"Expression.g4"}},{key:"ruleNames",get:function(){return t.ruleNames}},{key:"serializedATN",get:function(){return t._serializedATN}}]),Object(h.a)(t,[{key:"file",value:function(){var e=new Xe(this._ctx,this.state);this.enterRule(e,0,t.RULE_file);try{this.enterOuterAlt(e,1),this.state=12,this.expression(0),this.state=13,this.match(t.EOF)}catch(r){if(!(r instanceof Je.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}},{key:"expression",value:function(e){void 0===e&&(e=0);var r,n=this._ctx,i=this.state,a=new Ze(this._ctx,i);this.enterRecursionRule(a,2,t.RULE_expression,e);try{var c;switch(this.enterOuterAlt(a,1),this.state=24,this._errHandler.sync(this),this._input.LA(1)){case t.LPAREN:this.state=16,this.match(t.LPAREN),this.state=17,this.expression(0),this.state=18,this.match(t.RPAREN);break;case t.PLUS:this.state=20,this.match(t.PLUS);break;case t.MINUS:this.state=21,this.match(t.MINUS),this.state=22,this.atom();break;case t.VARIABLE:case t.SCIENTIFIC_NUMBER:this.state=23,this.atom();break;default:throw new We.NoViableAltException(this)}for(this._ctx._stop=this._input.tryLT(-1),this.state=37,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,2,this._ctx);2!==c&&c!==Fe.ATN.INVALID_ALT_NUMBER;){if(1===c)switch(null!=this._parseListeners&&this.triggerExitRuleEvent(),a,this.state=35,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,1,this._ctx)){case 1:if(a=new Ze(n,i),this.pushNewRecursionContext(a,2,t.RULE_expression),this.state=26,!this.precpred(this._ctx,7))throw new Ge.FailedPredicateException(this,"this.precpred(this._ctx, 7)");this.state=27,this.match(t.POW),this.state=28,this.expression(8);break;case 2:if(a=new Ze(n,i),this.pushNewRecursionContext(a,2,t.RULE_expression),this.state=29,!this.precpred(this._ctx,6))throw new Ge.FailedPredicateException(this,"this.precpred(this._ctx, 6)");this.state=30,(r=this._input.LA(1))!==t.TIMES&&r!==t.DIV?this._errHandler.recoverInline(this):(this._input.LA(1)===Ke.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=31,this.expression(7);break;case 3:if(a=new Ze(n,i),this.pushNewRecursionContext(a,2,t.RULE_expression),this.state=32,!this.precpred(this._ctx,5))throw new Ge.FailedPredicateException(this,"this.precpred(this._ctx, 5)");this.state=33,(r=this._input.LA(1))!==t.PLUS&&r!==t.MINUS?this._errHandler.recoverInline(this):(this._input.LA(1)===Ke.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()),this.state=34,this.expression(6)}this.state=39,this._errHandler.sync(this),c=this.interpreter.adaptivePredict(this._input,2,this._ctx)}}catch(s){if(!(s instanceof Je.RecognitionException))throw s;a.exception=s,this._errHandler.reportError(this,s),this._errHandler.recover(this,s)}finally{this.unrollRecursionContexts(n)}return a}},{key:"atom",value:function(){var e=new et(this._ctx,this.state);this.enterRule(e,4,t.RULE_atom);try{switch(this.state=42,this._errHandler.sync(this),this._input.LA(1)){case t.SCIENTIFIC_NUMBER:this.enterOuterAlt(e,1),this.state=40,this.scientific();break;case t.VARIABLE:this.enterOuterAlt(e,2),this.state=41,this.variable();break;default:throw new We.NoViableAltException(this)}}catch(r){if(!(r instanceof Je.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}},{key:"scientific",value:function(){var e=new tt(this._ctx,this.state);this.enterRule(e,6,t.RULE_scientific);try{this.enterOuterAlt(e,1),this.state=44,this.match(t.SCIENTIFIC_NUMBER)}catch(r){if(!(r instanceof Je.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}},{key:"variable",value:function(){var e=new rt(this._ctx,this.state);this.enterRule(e,8,t.RULE_variable);try{this.enterOuterAlt(e,1),this.state=46,this.match(t.VARIABLE)}catch(r){if(!(r instanceof Je.RecognitionException))throw r;e.exception=r,this._errHandler.reportError(this,r),this._errHandler.recover(this,r)}finally{this.exitRule()}return e}},{key:"relop",value:function(){var e,r=new nt(this._ctx,this.state);this.enterRule(r,10,t.RULE_relop);try{this.enterOuterAlt(r,1),this.state=48,0!==(-32&(e=this._input.LA(1)))||0===(1<<e&(1<<t.GT|1<<t.LT|1<<t.EQ))?this._errHandler.recoverInline(this):(this._input.LA(1)===Ke.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(n){if(!(n instanceof Je.RecognitionException))throw n;r.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n)}finally{this.exitRule()}return r}},{key:"sempred",value:function(e,t,r){switch(t){case 1:return this.expression_sempred(e,r)}return!0}},{key:"expression_sempred",value:function(e,t){switch(t){case 0:return this.precpred(this._ctx,7);case 1:return this.precpred(this._ctx,6);case 2:return this.precpred(this._ctx,5)}return!0}}],[{key:"_ATN",get:function(){return t.__ATN||(t.__ATN=(new Ue.ATNDeserializer).deserialize(De.toCharArray(t._serializedATN))),t.__ATN}}]),t}(ze.Parser);qe.VARIABLE=1,qe.SCIENTIFIC_NUMBER=2,qe.LPAREN=3,qe.RPAREN=4,qe.PLUS=5,qe.MINUS=6,qe.TIMES=7,qe.DIV=8,qe.GT=9,qe.LT=10,qe.EQ=11,qe.POINT=12,qe.POW=13,qe.WS=14,qe.RULE_file=0,qe.RULE_expression=1,qe.RULE_atom=2,qe.RULE_scientific=3,qe.RULE_variable=4,qe.RULE_relop=5,qe.ruleNames=["file","expression","atom","scientific","variable","relop"],qe._LITERAL_NAMES=[void 0,void 0,void 0,"'('","')'","'+'","'-'","'*'","'/'","'>'","'<'","'='","'.'","'^'"],qe._SYMBOLIC_NAMES=[void 0,"VARIABLE","SCIENTIFIC_NUMBER","LPAREN","RPAREN","PLUS","MINUS","TIMES","DIV","GT","LT","EQ","POINT","POW","WS"],qe.VOCABULARY=new Be.VocabularyImpl(qe._LITERAL_NAMES,qe._SYMBOLIC_NAMES,[]),qe._serializedATN="\x03\uc91d\ucaba\u058d\uafba\u4f53\u0607\uea8b\uc241\x03\x105\x04\x02\t\x02\x04\x03\t\x03\x04\x04\t\x04\x04\x05\t\x05\x04\x06\t\x06\x04\x07\t\x07\x03\x02\x03\x02\x03\x02\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x05\x03\x1b\n\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x03\x07\x03&\n\x03\f\x03\x0e\x03)\v\x03\x03\x04\x03\x04\x05\x04-\n\x04\x03\x05\x03\x05\x03\x06\x03\x06\x03\x07\x03\x07\x03\x07\x02\x02\x03\x04\b\x02\x02\x04\x02\x06\x02\b\x02\n\x02\f\x02\x02\x05\x03\x02\t\n\x03\x02\x07\b\x03\x02\v\r\x025\x02\x0e\x03\x02\x02\x02\x04\x1a\x03\x02\x02\x02\x06,\x03\x02\x02\x02\b.\x03\x02\x02\x02\n0\x03\x02\x02\x02\f2\x03\x02\x02\x02\x0e\x0f\x05\x04\x03\x02\x0f\x10\x07\x02\x02\x03\x10\x03\x03\x02\x02\x02\x11\x12\b\x03\x01\x02\x12\x13\x07\x05\x02\x02\x13\x14\x05\x04\x03\x02\x14\x15\x07\x06\x02\x02\x15\x1b\x03\x02\x02\x02\x16\x1b\x07\x07\x02\x02\x17\x18\x07\b\x02\x02\x18\x1b\x05\x06\x04\x02\x19\x1b\x05\x06\x04\x02\x1a\x11\x03\x02\x02\x02\x1a\x16\x03\x02\x02\x02\x1a\x17\x03\x02\x02\x02\x1a\x19\x03\x02\x02\x02\x1b'\x03\x02\x02\x02\x1c\x1d\f\t\x02\x02\x1d\x1e\x07\x0f\x02\x02\x1e&\x05\x04\x03\n\x1f \f\b\x02\x02 !\t\x02\x02\x02!&\x05\x04\x03\t\"#\f\x07\x02\x02#$\t\x03\x02\x02$&\x05\x04\x03\b%\x1c\x03\x02\x02\x02%\x1f\x03\x02\x02\x02%\"\x03\x02\x02\x02&)\x03\x02\x02\x02'%\x03\x02\x02\x02'(\x03\x02\x02\x02(\x05\x03\x02\x02\x02)'\x03\x02\x02\x02*-\x05\b\x05\x02+-\x05\n\x06\x02,*\x03\x02\x02\x02,+\x03\x02\x02\x02-\x07\x03\x02\x02\x02./\x07\x04\x02\x02/\t\x03\x02\x02\x0201\x07\x03\x02\x021\v\x03\x02\x02\x0223\t\x04\x02\x023\r\x03\x02\x02\x02\x06\x1a%',",qe.__ATN=void 0;var $e,Xe=function(e){function t(e,r){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e,r))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"expression",value:function(){return this.getRuleContext(0,Ze)}},{key:"EOF",value:function(){return this.getToken(qe.EOF,0)}}]),Object(h.a)(t,[{key:"enterRule",value:function(e){e.enterFile&&e.enterFile(this)}},{key:"exitRule",value:function(e){e.exitFile&&e.exitFile(this)}},{key:"accept",value:function(e){return e.visitFile?e.visitFile(this):e.visitChildren(this)}},{key:"ruleIndex",get:function(){return qe.RULE_file}}]),t}(Qe.ParserRuleContext),Ze=function(e){function t(e,r){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e,r))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"expression",value:function(e){return void 0===e?this.getRuleContexts(t):this.getRuleContext(e,t)}},{key:"POW",value:function(){return this.tryGetToken(qe.POW,0)}},{key:"TIMES",value:function(){return this.tryGetToken(qe.TIMES,0)}},{key:"DIV",value:function(){return this.tryGetToken(qe.DIV,0)}},{key:"PLUS",value:function(){return this.tryGetToken(qe.PLUS,0)}},{key:"MINUS",value:function(){return this.tryGetToken(qe.MINUS,0)}},{key:"LPAREN",value:function(){return this.tryGetToken(qe.LPAREN,0)}},{key:"RPAREN",value:function(){return this.tryGetToken(qe.RPAREN,0)}},{key:"atom",value:function(){return this.tryGetRuleContext(0,et)}}]),Object(h.a)(t,[{key:"enterRule",value:function(e){e.enterExpression&&e.enterExpression(this)}},{key:"exitRule",value:function(e){e.exitExpression&&e.exitExpression(this)}},{key:"accept",value:function(e){return e.visitExpression?e.visitExpression(this):e.visitChildren(this)}},{key:"ruleIndex",get:function(){return qe.RULE_expression}}]),t}(Qe.ParserRuleContext),et=function(e){function t(e,r){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e,r))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"scientific",value:function(){return this.tryGetRuleContext(0,tt)}},{key:"variable",value:function(){return this.tryGetRuleContext(0,rt)}}]),Object(h.a)(t,[{key:"enterRule",value:function(e){e.enterAtom&&e.enterAtom(this)}},{key:"exitRule",value:function(e){e.exitAtom&&e.exitAtom(this)}},{key:"accept",value:function(e){return e.visitAtom?e.visitAtom(this):e.visitChildren(this)}},{key:"ruleIndex",get:function(){return qe.RULE_atom}}]),t}(Qe.ParserRuleContext),tt=function(e){function t(e,r){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e,r))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"SCIENTIFIC_NUMBER",value:function(){return this.getToken(qe.SCIENTIFIC_NUMBER,0)}}]),Object(h.a)(t,[{key:"enterRule",value:function(e){e.enterScientific&&e.enterScientific(this)}},{key:"exitRule",value:function(e){e.exitScientific&&e.exitScientific(this)}},{key:"accept",value:function(e){return e.visitScientific?e.visitScientific(this):e.visitChildren(this)}},{key:"ruleIndex",get:function(){return qe.RULE_scientific}}]),t}(Qe.ParserRuleContext),rt=function(e){function t(e,r){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e,r))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"VARIABLE",value:function(){return this.getToken(qe.VARIABLE,0)}}]),Object(h.a)(t,[{key:"enterRule",value:function(e){e.enterVariable&&e.enterVariable(this)}},{key:"exitRule",value:function(e){e.exitVariable&&e.exitVariable(this)}},{key:"accept",value:function(e){return e.visitVariable?e.visitVariable(this):e.visitChildren(this)}},{key:"ruleIndex",get:function(){return qe.RULE_variable}}]),t}(Qe.ParserRuleContext),nt=function(e){function t(e,r){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).call(this,e,r))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"EQ",value:function(){return this.tryGetToken(qe.EQ,0)}},{key:"GT",value:function(){return this.tryGetToken(qe.GT,0)}},{key:"LT",value:function(){return this.tryGetToken(qe.LT,0)}}]),Object(h.a)(t,[{key:"enterRule",value:function(e){e.enterRelop&&e.enterRelop(this)}},{key:"exitRule",value:function(e){e.exitRelop&&e.exitRelop(this)}},{key:"accept",value:function(e){return e.visitRelop?e.visitRelop(this):e.visitChildren(this)}},{key:"ruleIndex",get:function(){return qe.RULE_relop}}]),t}(Qe.ParserRuleContext),it=r(79),at=r(171);!function(e){e.id="id",e.plus="+",e.minus="-",e.mul="*",e.div="/",e.pow="^"}($e||($e={}));var ct=function(e){function t(e,r){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,W.expression))).operator=void 0,n.type=W.expression,n.children=void 0,n.children=r,n.operator=e,n}return Object(d.a)(t,e),t}(ie),st=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,W.symbol))).symbol=void 0,r.type=W.symbol,r.symbol=e,r.name=e,r}return Object(d.a)(t,e),t}(ie),ot=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(p.a)(this,Object(f.a)(t).call(this,W.variable))).variable=void 0,r.type=W.variable,r.variable=e,r.name=e,r}return Object(d.a)(t,e),t}(ie),ut=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"defaultResult",value:function(){return[]}},{key:"aggregateResult",value:function(e,t){return[].concat(Object(le.a)(e),Object(le.a)(t))}},{key:"visitVariable",value:function(e){return[new ot(e.text)]}},{key:"visitScientific",value:function(e){return[new ke(parseFloat(e.text))]}},{key:"visitAtom",value:function(e){return Object(it.a)(Object(f.a)(t.prototype),"visitChildren",this).call(this,e)}},{key:"visitExpression",value:function(e){var r=Object(it.a)(Object(f.a)(t.prototype),"visitChildren",this).call(this,e);return[new ct($e.id,r)]}},{key:"visitFile",value:function(e){return Object(it.a)(Object(f.a)(t.prototype),"visitChildren",this).call(this,e)}},{key:"visitRelop",value:function(e){return Object(it.a)(Object(f.a)(t.prototype),"visitChildren",this).call(this,e)}},{key:"visitTerminal",value:function(e){return e.symbol.text?[new st(e.symbol.text)]:[]}}]),t}(at.AbstractParseTreeVisitor),lt=function(){function e(t){Object(l.a)(this,e),this._tree=void 0,this._parser=void 0,this._lexer=void 0,this._errorListener=void 0,this._errorListener=new Ce;var r=new Le.ANTLRInputStream(t);this._lexer=new Ve(r);var n=new Le.CommonTokenStream(this._lexer);if(this._parser=new qe(n),this._parser.addErrorListener(this._errorListener),this._tree=this._parser.file(),this._errorListener.errors.length>0)throw this._errorListener.errors}return Object(h.a)(e,[{key:"toString",value:function(){return this._tree.toStringTree(this._parser.ruleNames)}},{key:"getTree",value:function(){return(new ut).visit(this._tree)}},{key:"getRuleNames",value:function(){return this._parser.ruleNames}}]),e}();function ht(e){var t=e.split(" ");switch(t[0]){case"/clear":return tr.dispatch(V()),void tr.dispatch({type:n.ClearHistory});case"/parse":try{var r=new lt(t.slice(1).join(" "));return tr.dispatch(x(r.getTree(),r.getRuleNames())),{output:"parsed: "+r.toString()}}catch(d){return{output:"",error:d.map((function(e){return e.message})).join("\n")}}case"/p":try{var i=new lt(t.slice(1).join(" ")),a=Te(i.getTree()[0]);return a&&tr.dispatch(x([a],i.getRuleNames())),{output:"parsed: "+i.toString()}}catch(d){return{output:"",error:d.map((function(e){return e.message})).join("\n")}}case"/simplify":var c=Re.a.cloneDeep(w(tr.getState()));if(c){var s=Te(c.tree[0]);return s&&tr.dispatch(x([s],c.ruleNames)),{output:"Simplified to: "+ae(s)}}return{output:"",error:"Nothing to simplify"};case"/associative":var o=Re.a.cloneDeep(w(tr.getState()));if(o){var u=function e(t){return t.type!==W.summation&&t.type!==W.product||(t.children=t.children.map((function(t){return e(t)})),t.children=Re.a.flatten(t.children.map((function(e){return e.type===t.type?e.children:[e]})))),t}(o.tree[0]);return u&&tr.dispatch(x([u],o.ruleNames)),{output:"Result: "+ae(u)}}return{output:"",error:"Nothing to apply rule to"};case"/identity":var l=Re.a.cloneDeep(w(tr.getState()));if(l){var h=we(l.tree[0]);return h&&tr.dispatch(x([h],l.ruleNames)),{output:"Result: "+ae(h)}}return{output:"",error:"Nothing to apply rule to"};case"/numerical":var p=Re.a.cloneDeep(w(tr.getState()));if(p){var f=_e(p.tree[0]);return f&&tr.dispatch(x([f],p.ruleNames)),{output:"Result: "+ae(f)}}return{output:"",error:"Nothing to apply rule to"};default:return{output:"",error:"Command '".concat(t[0],"' not recognized")}}}var pt=ue.a.mark(xt),ft=ue.a.mark(jt),dt=ue.a.mark(Et),yt=ue.a.mark(gt),vt=ue.a.mark(Rt),bt=ue.a.mark(kt),mt=ue.a.mark(wt),Ot=ue.a.mark(_t);function xt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(g.ExecuteInput,jt);case 2:case"end":return e.stop()}}),pt)}function jt(e){var t,r,n;return ue.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(fe.a)([Object(fe.e)(D({isInput:!0,line:e.input,isError:!1})),Object(fe.e)((a=e.input,{input:a,type:g.AddToInputHistory}))]);case 2:return i.next=4,Object(fe.b)(ht,e.input);case 4:if(!(t=i.sent)){i.next=14;break}if(r=t.output,!(n=t.error)){i.next=12;break}return i.next=10,Object(fe.a)(n.split("\n").map((function(e){return Object(fe.e)(D({isInput:!1,line:e,isError:!0}))})));case 10:i.next=14;break;case 12:return i.next=14,Object(fe.a)(r.split("\n").map((function(e){return Object(fe.e)(D({isInput:!1,line:e,isError:!1}))})));case 14:return i.next=16,Object(fe.d)(G());case 16:case"end":return i.stop()}var a}),ft)}function Et(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(g.LoadHistory,gt);case 2:case"end":return e.stop()}}),dt)}function gt(){var e;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(fe.b)(Ee);case 2:return e=t.sent,t.next=5,Object(fe.e)(F(e));case 5:case"end":return t.stop()}}),yt)}function Rt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(g.ClearHistory,kt);case 2:case"end":return e.stop()}}),vt)}function kt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.e)(F({lines:[],inputHistory:[]}));case 2:return e.next=4,Object(fe.d)(G());case 4:case"end":return e.stop()}}),bt)}function wt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(g.SaveHistory,_t);case 2:case"end":return e.stop()}}),mt)}function _t(){var e,t;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(fe.f)(z);case 2:return e=r.sent,r.next=5,Object(fe.f)(Q);case 5:return t=r.sent,r.next=8,Object(fe.b)(je,{lines:e,inputHistory:t});case 8:case"end":return r.stop()}}),Ot)}var Nt=[xt,Et,wt,Rt];function It(e){localStorage.setItem("treeCache",JSON.stringify(e))}function At(){var e=localStorage.getItem("treeCache");return e?JSON.parse(e):{history:[],index:-1}}var Tt=ue.a.mark(Bt),St=ue.a.mark(Dt),Lt=ue.a.mark(Vt),Ct=ue.a.mark(Ft),Ht=ue.a.mark(Gt),Ut=ue.a.mark(Wt),Pt=ue.a.mark(zt),Mt=ue.a.mark(Qt);function Bt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(n.UpdateTree,Dt);case 2:case"end":return e.stop()}}),Tt)}function Dt(e){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(fe.e)((r=e.tree,{ruleNames:e.ruleNames,tree:r,type:n.AddToHistory}));case 2:return t.next=4,Object(fe.d)(E());case 4:case"end":return t.stop()}var r}),St)}function Vt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(n.LoadHistory,Ft);case 2:case"end":return e.stop()}}),Lt)}function Ft(){var e;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(fe.b)(At);case 2:return e=t.sent,t.next=5,Object(fe.e)(j(e));case 5:case"end":return t.stop()}}),Ct)}function Gt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(n.ClearHistory,Wt);case 2:case"end":return e.stop()}}),Ht)}function Wt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.e)(j({history:[],index:-1}));case 2:return e.next=4,Object(fe.d)(E());case 4:case"end":return e.stop()}}),Ut)}function zt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.g)(n.SaveHistory,Qt);case 2:case"end":return e.stop()}}),Pt)}function Qt(){var e;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(fe.f)((function(e){return e.tree}));case 2:return e=t.sent,t.next=5,Object(fe.b)(It,e);case 5:case"end":return t.stop()}}),Mt)}var Yt=[Bt,Vt,zt,Gt],Jt=ue.a.mark(Xt),Kt=[].concat(Object(le.a)(Nt),Object(le.a)(Yt)),qt={console:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.AddToInputHistory:return ve({},e,{inputHistory:[].concat(Object(le.a)(e.inputHistory),[t.input])});case g.AddToLog:return ve({},e,{lines:[].concat(Object(le.a)(e.lines),[t.line])});case g.SetHistory:return ve({},t.history);default:return e}},tree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.AddToHistory:return{history:[].concat(Object(le.a)(e.history||[]),[{tree:t.tree,ruleNames:t.ruleNames}]),index:e.index+1};case n.SetHistory:return Oe({},t.history);case n.Undo:return Oe({},e,{index:e.index-1});case n.Redo:return Oe({},e,{index:e.index+1});default:return e}}},$t=Object(he.combineReducers)(qt);function Xt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.c)(gt);case 2:return e.next=4,Object(fe.c)(Ft);case 4:return e.next=6,Object(fe.a)(Kt.map((function(e){return e()})));case 6:case"end":return e.stop()}}),Jt)}var Zt=Object(pe.a)(),er=Object(he.createStore)($t,Object(he.applyMiddleware)(Zt));Zt.run(Xt);var tr=er,rr=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error(e,e.stack,t.componentStack),tr.dispatch(D({isError:!0,isInput:!1,line:e.message}))}},{key:"render",value:function(){return s.a.createElement(y.a,{store:tr},s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null,s.a.createElement("h3",null,"Test")),s.a.createElement(se,null),s.a.createElement(te,null)))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.b.add({faArrowRight:a.a,faRedo:a.b,faTrashAlt:a.c,faUndo:a.d}),u.a.render(s.a.createElement(rr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[229,1,2]]]);
//# sourceMappingURL=main.e7ef04d7.chunk.js.map