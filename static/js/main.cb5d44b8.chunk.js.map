{"version":3,"sources":["stores/tree/actions.ts","stores/tree/actionCreators.ts","stores/tree/selectors.ts","stores/console/actions.ts","components/top/TopbarButton.tsx","components/top/Controls.tsx","components/top/Topbar.tsx","stores/console/actionCreators.ts","stores/console/selectors.ts","parsing/nodes/node.ts","components/console/ConsoleInput.tsx","components/console/HeaderButton.tsx","components/console/Controls.tsx","components/console/LogView.tsx","components/console/ConsoleView.tsx","engine/printing.ts","components/tree/TreeView.tsx","stores/console/reducer.ts","stores/tree/reducer.ts","cache/consoleCache.ts","parsing/nodes/numberNode.ts","parsing/nodes/powerNode.ts","parsing/nodes/productNode.ts","parsing/nodes/summationNode.ts","engine/simplification.ts","parsing/errorListener.ts","parsing/generated/ExpressionLexer.ts","parsing/generated/ExpressionParser.ts","parsing/nodes/expressionNode.ts","parsing/nodes/symbolNode.ts","parsing/nodes/variableNode.ts","parsing/visitor.ts","parsing/parser.ts","inputHandling/inputHandler.ts","stores/console/sagas.ts","cache/treeCache.ts","stores/tree/sagas.ts","stores/store.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["ActionTypeNames","updateTree","tree","ruleNames","type","UpdateTree","setHistory","state","history","SetHistory","saveHistory","SaveHistory","canUndo","index","canRedo","length","getTree","undefined","TopbarButton","this","props","name","id","icon","onClickButton","rest","NavItem","Button","replace","onClick","UncontrolledTooltip","target","React","Controls","Form","inline","onSubmit","e","preventDefault","color","className","disabled","undo","redo","connect","dispatch","Redo","Undo","Topbar","Navbar","light","NavbarBrand","href","Nav","navbar","addToLog","line","AddToLog","clearHistory","ClearHistory","ASTType","getLines","console","lines","getInputHistory","inputHistory","canClear","ConsoleInput","cycle","key","cycleIndex","setState","input","tempInput","execute","executeInput","handleInputChange","event","value","Input","onChange","onKeyDown","d","$","scrollTop","prop","ExecuteInput","HeaderButton","size","clear","LogView","map","isInput","isError","ConsoleView","Container","ASTNode","children","printNode","node","null","variable","number","toString","expression","c","join","symbol","power","summation","product","TreeView","svg","width","data","root","hierarchy","dx","dy","height","d3","nodeSize","chart","x0","Infinity","x1","each","x","attr","g","append","selectAll","links","y","descendants","text","clone","lower","fluid","ref","element","select","remove","initialState","localStorage","setItem","JSON","stringify","loadHistory","getItem","parse","ASTNumberNode","ASTPowerNode","ASTProductNode","ASTSummationNode","simplifyInput","simplifyVariable","sI","child","_","compact","operator","simplifyExpression","ParseErrorLevel","ErrorListener","errors","error","push","_recognizer","offendingSymbol","charPositionInLine","msg","_e","end","level","ERROR","message","start","ExpressionLexer","_interp","LexerATNSimulator","_ATN","VOCABULARY","_serializedATN","channelNames","modeNames","__ATN","ATNDeserializer","deserialize","Utils","Lexer","VARIABLE","SCIENTIFIC_NUMBER","LPAREN","RPAREN","PLUS","MINUS","TIMES","DIV","GT","LT","EQ","POINT","POW","WS","_LITERAL_NAMES","_SYMBOLIC_NAMES","VocabularyImpl","ExpressionParser","ParserATNSimulator","_localctx","FileContext","_ctx","enterRule","RULE_file","enterOuterAlt","match","EOF","re","RecognitionException","exception","_errHandler","reportError","recover","exitRule","_p","_la","_parentctx","_parentState","ExpressionContext","enterRecursionRule","RULE_expression","_alt","sync","_input","LA","atom","NoViableAltException","_stop","tryLT","interpreter","adaptivePredict","ATN","INVALID_ALT_NUMBER","_parseListeners","triggerExitRuleEvent","pushNewRecursionContext","precpred","FailedPredicateException","recoverInline","Token","matchedEOF","reportMatch","consume","unrollRecursionContexts","AtomContext","RULE_atom","scientific","ScientificContext","RULE_scientific","VariableContext","RULE_variable","RelopContext","RULE_relop","ruleIndex","predIndex","expression_sempred","Parser","ASTOperator","parent","invokingState","getRuleContext","getToken","listener","enterFile","exitFile","visitor","visitFile","visitChildren","ParserRuleContext","i","getRuleContexts","tryGetToken","tryGetRuleContext","enterExpression","exitExpression","visitExpression","enterAtom","exitAtom","visitAtom","enterScientific","exitScientific","visitScientific","enterVariable","exitVariable","visitVariable","enterRelop","exitRelop","visitRelop","ASTExpressionNode","ASTSymbolNode","ASTVariableNode","ASTVisitor","aggregate","nextResult","context","parseFloat","AbstractParseTreeVisitor","str","_tree","_parser","_lexer","_errorListener","inputStream","ANTLRInputStream","tokenStream","CommonTokenStream","addErrorListener","file","toStringTree","visit","tokens","split","store","clearConsoleHistory","parser","slice","getRuleNames","output","err","getState","newTree","watchExecuteInput","watchLoadHistory","watchClearHistory","watchSaveHistory","takeEvery","action","all","putResolve","AddToInputHistory","call","inputHandler","res","put","saveHistoryAction","LoadHistory","consoleCache","watchUpdateTree","AddToHistory","treeCache","treeState","rootSaga","watchSagas","consoleSagas","treeSagas","reducers","rootReducer","combineReducers","fork","loadConsoleHistory","loadTreeHistory","saga","sagaMiddleware","createSagaMiddleware","createStore","applyMiddleware","run","App","info","stack","componentStack","Fragment","Component","Boolean","window","location","hostname","library","add","faArrowRight","faRedo","faTrashAlt","faUndo","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.cb5d44b8.chunk.js","sourcesContent":["import { Action } from 'redux';\r\nimport { FileContext } from '../../parsing/generated/ExpressionParser';\r\nimport { ASTNode } from '../../parsing/nodes/node';\r\nimport State from './state';\r\n\r\nexport enum ActionTypeNames {\r\n    UpdateTree = 'Tree/UpdateTree',\r\n    AddToHistory = 'Tree/AddToHistory',\r\n    Undo = 'Tree/Undo',\r\n    Redo = 'Tree/Redo',\r\n    ClearHistory = 'Tree/ClearHistory',\r\n    LoadHistory = 'Tree/LoadHistory',\r\n    SetHistory = 'Tree/SetHistory',\r\n    SaveHistory = 'Tree/SaveHistory',\r\n}\r\n\r\nexport type UpdateTreeAction = Action<ActionTypeNames.UpdateTree> & {\r\n    tree: ASTNode[];\r\n    ruleNames: string[];\r\n};\r\n\r\nexport type AddToHistoryAction = Action<ActionTypeNames.AddToHistory> & {\r\n    tree: ASTNode[];\r\n    ruleNames: string[];\r\n};\r\n\r\nexport type UndoAction = Action<ActionTypeNames.Undo>;\r\nexport type RedoAction = Action<ActionTypeNames.Redo>;\r\n\r\nexport type ClearHistoryAction = Action<ActionTypeNames.ClearHistory>;\r\nexport type LoadHistoryAction = Action<ActionTypeNames.LoadHistory>;\r\nexport type SetHistoryAction = Action<ActionTypeNames.SetHistory> & {\r\n    history: State\r\n};\r\nexport type SaveHistoryAction = Action<ActionTypeNames.SaveHistory>;\r\n","import { ASTNode } from '../../parsing/nodes/node';\r\nimport {\r\n    ActionTypeNames,\r\n    AddToHistoryAction, ClearHistoryAction,\r\n    LoadHistoryAction, RedoAction, SaveHistoryAction, SetHistoryAction, UndoAction, UpdateTreeAction\r\n} from './actions';\r\nimport State from './state';\r\n\r\nexport function updateTree(tree: ASTNode[], ruleNames: string[]): UpdateTreeAction {\r\n    return {\r\n        ruleNames,\r\n        tree,\r\n        type: ActionTypeNames.UpdateTree,\r\n    };\r\n}\r\n\r\nexport function addToHistory(tree: ASTNode[], ruleNames: string[]): AddToHistoryAction {\r\n    return {\r\n        ruleNames,\r\n        tree,\r\n        type: ActionTypeNames.AddToHistory,\r\n    };\r\n}\r\n\r\nexport function undo(): UndoAction {\r\n    return {\r\n        type: ActionTypeNames.Undo,\r\n    };\r\n}\r\n\r\nexport function redo(): RedoAction {\r\n    return {\r\n        type: ActionTypeNames.Redo,\r\n    };\r\n}\r\n\r\nexport function clearHistory(): ClearHistoryAction {\r\n    return {\r\n        type: ActionTypeNames.ClearHistory\r\n    };\r\n}\r\n\r\nexport function loadHistory(): LoadHistoryAction {\r\n    return {\r\n        type: ActionTypeNames.LoadHistory\r\n    };\r\n}\r\n\r\nexport function setHistory(state: State): SetHistoryAction {\r\n    return {\r\n        history: state,\r\n        type: ActionTypeNames.SetHistory\r\n    };\r\n}\r\n\r\nexport function saveHistory(): SaveHistoryAction {\r\n    return {\r\n        type: ActionTypeNames.SaveHistory\r\n    };\r\n}","import { RootState } from '../store';\r\n\r\nexport const canUndo = (state: RootState) => state.tree.index > 0;\r\nexport const canRedo = (state: RootState) => (state.tree.index < state.tree.history.length - 1);\r\n\r\nexport const getTree = (state: RootState) => (state.tree.index >= 0 ? \r\n    state.tree.history[state.tree.index] : undefined);\r\n","import { Action } from 'redux';\r\nimport State, { LogLine } from './state';\r\n\r\nexport enum ActionTypeNames {\r\n    AddToLog = 'Console/Log',\r\n    ExecuteInput = 'Console/ExecuteInput',\r\n    AddToInputHistory = 'Console/AddToInputHistory',\r\n    ClearHistory = 'Console/ClearHistory',\r\n    LoadHistory = 'Console/LoadHistory',\r\n    SetHistory = 'Console/SetHistory',\r\n    SaveHistory = 'Console/SaveHistory'\r\n}\r\n\r\nexport type AddToLogAction = Action<ActionTypeNames.AddToLog> & {\r\n    line: LogLine\r\n};\r\n\r\nexport type ExecuteInputAction = Action<ActionTypeNames.ExecuteInput> & {\r\n    input: string\r\n};\r\n\r\nexport type AddToInputHistoryAction = Action<ActionTypeNames.AddToInputHistory> & {\r\n    input: string\r\n};\r\n\r\nexport type ClearHistoryAction = Action<ActionTypeNames.ClearHistory>;\r\nexport type LoadHistoryAction = Action<ActionTypeNames.LoadHistory>;\r\nexport type SetHistoryAction = Action<ActionTypeNames.SetHistory> & {\r\n    history: State\r\n};\r\nexport type SaveHistoryAction = Action<ActionTypeNames.SaveHistory>;\r\n","import { IconProp } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { Button, ButtonProps, NavItem, UncontrolledTooltip } from 'reactstrap';\r\n\r\ninterface Props extends ButtonProps {\r\n    name: string;\r\n    icon: IconProp;\r\n    id?: string;\r\n    onClickButton?: (event: React.MouseEvent<HTMLInputElement, MouseEvent>) => void;\r\n}\r\n\r\nclass TopbarButton extends React.Component<Props> {\r\n\r\n    public render() {\r\n        const { name, id, icon, onClickButton, ...rest} = this.props;\r\n\r\n        return (\r\n            <NavItem>\r\n                <Button\r\n                    {...rest}\r\n                    id={id ? id : `${name.replace(' ', '')}Button`}\r\n                    onClick={onClickButton}\r\n                >\r\n                    <FontAwesomeIcon icon={icon} />\r\n                    <UncontrolledTooltip target={id ? id : `${name.replace(' ', '')}Button`}>\r\n                        {name}\r\n                    </UncontrolledTooltip>\r\n                </Button>\r\n            </NavItem>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TopbarButton;","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Form } from 'reactstrap';\r\nimport { Dispatch } from 'redux';\r\nimport { RootState } from '../../stores/store';\r\nimport { redo, undo } from '../../stores/tree/actionCreators';\r\nimport { canRedo, canUndo } from '../../stores/tree/selectors';\r\nimport TopbarButton from './TopbarButton';\r\n\r\ninterface Props {\r\n    canUndo: boolean;\r\n    canRedo: boolean;\r\n\r\n    undo: () => void;\r\n    redo: () => void;\r\n}\r\n\r\nclass Controls extends React.Component<Props> {\r\n    public render() {\r\n        return (\r\n            <Form inline={true} onSubmit={(e) => e.preventDefault()}>\r\n                <TopbarButton\r\n                    id=\"Undo\"\r\n                    name=\"Undo last action\"\r\n                    icon=\"undo\"\r\n                    color=\"primary\"\r\n                    className=\"mr-sm-2\"\r\n                    disabled={!this.props.canUndo}\r\n                    onClickButton={this.props.undo}\r\n                />\r\n                <TopbarButton\r\n                    id=\"Redo\"\r\n                    name=\"Redo\"\r\n                    icon=\"redo\"\r\n                    color=\"primary\"\r\n                    className=\"mr-sm-2\"\r\n                    disabled={!this.props.canRedo}\r\n                    onClickButton={this.props.redo}\r\n                />\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n    canRedo: canRedo(state),\r\n    canUndo: canUndo(state),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n    redo: () => dispatch(redo()),\r\n    undo: () => dispatch(undo()),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Controls);","import * as React from 'react';\r\nimport { Nav, Navbar, NavbarBrand } from 'reactstrap';\r\nimport Controls from './Controls';\r\n\r\nclass Topbar extends React.Component {\r\n    public render() {\r\n        return (\r\n            <Navbar color=\"light\" light={true} >\r\n                <NavbarBrand href=\"/\">\r\n                    Formula Handling - Group 8\r\n                </NavbarBrand>\r\n                <Nav navbar={true}>\r\n                    <Controls />\r\n                </Nav>\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Topbar;","import {\r\n    ActionTypeNames, AddToInputHistoryAction, AddToLogAction, \r\n    ClearHistoryAction, ExecuteInputAction, LoadHistoryAction,\r\n    SaveHistoryAction, SetHistoryAction\r\n} from './actions';\r\nimport State, { LogLine } from './state';\r\n\r\nexport function addToLog(line: LogLine): AddToLogAction {\r\n    return {\r\n        line,\r\n        type: ActionTypeNames.AddToLog,\r\n    };\r\n}\r\n\r\nexport function executeInput(input: string): ExecuteInputAction {\r\n    return {\r\n        input,\r\n        type: ActionTypeNames.ExecuteInput\r\n    };\r\n}\r\n\r\nexport function addToInputHistory(input: string): AddToInputHistoryAction {\r\n    return {\r\n        input,\r\n        type: ActionTypeNames.AddToInputHistory\r\n    };\r\n}\r\n\r\nexport function clearHistory(): ClearHistoryAction {\r\n    return {\r\n        type: ActionTypeNames.ClearHistory\r\n    };\r\n}\r\n\r\nexport function loadHistory(): LoadHistoryAction {\r\n    return {\r\n        type: ActionTypeNames.LoadHistory\r\n    };\r\n}\r\n\r\nexport function setHistory(state: State): SetHistoryAction {\r\n    return {\r\n        history: state,\r\n        type: ActionTypeNames.SetHistory\r\n    };\r\n}\r\n\r\nexport function saveHistory(): SaveHistoryAction {\r\n    return {\r\n        type: ActionTypeNames.SaveHistory\r\n    };\r\n}","import { RootState } from '../store';\r\n\r\nexport const getLines = (state: RootState) => state.console.lines;\r\nexport const getInputHistory = (state: RootState) => state.console.inputHistory;\r\nexport const canClear = (state: RootState) => state.console.lines.length > 0;","export enum ASTType {\r\n    null = 'null',\r\n    expression = 'expression',\r\n    number = 'number',\r\n    variable = 'variable',\r\n    symbol = 'symbol',\r\n    summation = 'summation',\r\n    product = 'product',\r\n    power = 'power',\r\n}\r\n\r\nexport abstract class ASTNode {\r\n    public name: string;\r\n    public children?: ASTNode[];\r\n\r\n    constructor(type: string, children?: ASTNode[]) {\r\n        this.children = children;\r\n        this.name = type;\r\n    }\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport $ from 'jquery';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Form, Input } from 'reactstrap';\r\nimport { Dispatch } from 'redux';\r\nimport { executeInput } from '../../stores/console/actionCreators';\r\nimport { getInputHistory } from '../../stores/console/selectors';\r\nimport { RootState } from '../../stores/store';\r\n\r\ninterface Props {\r\n    inputHistory: string[];\r\n\r\n    executeInput: typeof executeInput;\r\n}\r\n\r\ninterface State {\r\n    input: string;\r\n    cycleIndex: number;\r\n    tempInput?: string;\r\n}\r\n\r\nclass ConsoleInput extends React.Component<Props, State> {\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n        this.state = {\r\n            cycleIndex: -1,\r\n            input: '',\r\n        };\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <Form inline={true} onSubmit={(e) => { e.preventDefault(); this.execute(); }}>\r\n                <Input value={this.state.input} onChange={this.handleInputChange} onKeyDown={this.cycle} />\r\n                <Button onClick={this.execute}>\r\n                    <FontAwesomeIcon icon=\"arrow-right\" />\r\n                </Button>\r\n            </Form>\r\n        );\r\n    }\r\n\r\n    public componentDidUpdate() {\r\n        // Scroll to bottom\r\n        const d = $('.LogView');\r\n        d.scrollTop(d.prop('scrollHeight'));\r\n    }\r\n\r\n    public componentDidMount() {\r\n        // Scroll to bottom\r\n        const d = $('.LogView');\r\n        d.scrollTop(d.prop('scrollHeight'));\r\n    }\r\n\r\n    private cycle = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'ArrowUp') {\r\n            if (this.state.cycleIndex === -1) {\r\n                const index = this.props.inputHistory.length - 1;\r\n                if (index > -1) {\r\n                    this.setState({\r\n                        cycleIndex: index,\r\n                        input: this.props.inputHistory[index],\r\n                        tempInput: this.state.input,\r\n                    });\r\n                }\r\n            } else if (this.state.cycleIndex === 0) {\r\n                const index = this.props.inputHistory.length - 1;\r\n                this.setState({\r\n                    cycleIndex: -1,\r\n                    input: this.state.tempInput || '',\r\n                });\r\n            } else {\r\n                const index = this.state.cycleIndex - 1;\r\n                this.setState({\r\n                    cycleIndex: index,\r\n                    input: this.props.inputHistory[index],\r\n                });\r\n            }\r\n        } else if (e.key === 'ArrowDown') {\r\n            if (this.state.cycleIndex === -1) {\r\n                const index = 0;\r\n                if (this.props.inputHistory.length > 0) {\r\n                    this.setState({\r\n                        cycleIndex: index,\r\n                        input: this.props.inputHistory[index],\r\n                        tempInput: this.state.input,\r\n                    });\r\n                }\r\n            } else if (this.state.cycleIndex === this.props.inputHistory.length - 1) {\r\n                this.setState({\r\n                    cycleIndex: -1,\r\n                    input: this.state.tempInput || '',\r\n                });\r\n            } else {\r\n                const index = this.state.cycleIndex + 1;\r\n                this.setState({\r\n                    cycleIndex: index,\r\n                    input: this.props.inputHistory[index],\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private execute = () => {\r\n        this.props.executeInput(this.state.input);\r\n        this.setState({ input: '' });\r\n    }\r\n\r\n    private handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            cycleIndex: -1,\r\n            input: event.target.value,\r\n            tempInput: undefined,\r\n        });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n    inputHistory: getInputHistory(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n    executeInput: (input: string) => dispatch(executeInput(input)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConsoleInput);\r\n","import { IconProp } from '@fortawesome/fontawesome-svg-core';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport * as React from 'react';\r\nimport { Button, ButtonProps, UncontrolledTooltip } from 'reactstrap';\r\n\r\ninterface Props extends ButtonProps {\r\n    name: string;\r\n    icon: IconProp;\r\n    id?: string;\r\n    onClickButton?: (event: React.MouseEvent<HTMLInputElement, MouseEvent>) => void;\r\n}\r\n\r\nclass HeaderButton extends React.Component<Props> {\r\n\r\n    public render() {\r\n        const { name, id, icon, onClickButton, ...rest } = this.props;\r\n\r\n        return (\r\n            <Button\r\n                size={'sm'}\r\n                {...rest}\r\n                id={id ? id : `${name.replace(' ', '')}Button`}\r\n                onClick={onClickButton}\r\n            >\r\n                <FontAwesomeIcon icon={icon} />\r\n                <UncontrolledTooltip target={id ? id : `${name.replace(' ', '')}Button`}>\r\n                    {name}\r\n                </UncontrolledTooltip>\r\n            </Button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HeaderButton;","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dispatch } from 'redux';\r\nimport { clearHistory } from '../../stores/console/actionCreators';\r\nimport { canClear } from '../../stores/console/selectors';\r\nimport { RootState } from '../../stores/store';\r\nimport HeaderButton from './HeaderButton';\r\n\r\ninterface Props {\r\n    canClear: boolean;\r\n\r\n    clear: () => void;\r\n}\r\n\r\nclass Controls extends React.Component<Props> {\r\n    public render() {\r\n        return (\r\n            <HeaderButton\r\n                id=\"Clear\"\r\n                name=\"Clear\"\r\n                icon=\"trash-alt\"\r\n                color=\"danger\"\r\n                disabled={!this.props.canClear}\r\n                onClickButton={this.props.clear}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n    canClear: canClear(state)\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\r\n    clear: () => dispatch(clearHistory())\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Controls);","import * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getLines } from '../../stores/console/selectors';\r\nimport { LogLine } from '../../stores/console/state';\r\nimport { RootState } from '../../stores/store';\r\n\r\ninterface Props {\r\n    lines: LogLine[];\r\n}\r\n\r\nclass LogView extends React.Component<Props> {\r\n    public render() {\r\n        return (\r\n            <div className=\"LogView\">\r\n                {this.props.lines.map((line, index) => {\r\n                    if (line.isInput) {\r\n                        return (\r\n                            <p key={index}>\r\n                                <code className=\"input\">\r\n                                    {'> ' + line.line}\r\n                                </code>\r\n                            </p>\r\n                        );\r\n                    } else {\r\n                        if (line.isError) {\r\n                            return (\r\n                                <p key={index}><code className=\"error\">{line.line}</code></p>\r\n                            );\r\n                        } else {\r\n                            return (\r\n                                <p key={index}><code className=\"output\">{line.line}</code></p>\r\n                            );\r\n                        }\r\n                    }\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n    lines: getLines(state)\r\n});\r\n\r\nexport default connect(mapStateToProps)(LogView);\r\n","import * as React from 'react';\r\nimport { Container } from 'reactstrap';\r\nimport ConsoleInput from './ConsoleInput';\r\nimport './ConsoleView.scss';\r\nimport Controls from './Controls';\r\nimport LogView from './LogView';\r\n\r\nclass ConsoleView extends React.Component {\r\n    public render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"HeaderWrapper\">\r\n                    <Container className=\"ConsoleHeader\">\r\n                        <p className=\"h6\">Console</p>\r\n                        <Controls />\r\n                    </Container>\r\n                </div>\r\n                <Container className=\"ConsoleView\">\r\n\r\n                    <LogView />\r\n                    <ConsoleInput />\r\n                </Container>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ConsoleView;\r\n","import { ASTType } from '../parsing/nodes/node';\r\nimport { NodeType } from './simplification';\r\n\r\nexport function printNode(node: NodeType): string {\r\n    switch (node.type) {\r\n        case ASTType.null:\r\n            return '';\r\n        case ASTType.variable:\r\n            return node.variable;\r\n        case ASTType.number:\r\n            return node.value.toString();\r\n        case ASTType.expression:\r\n            if (node.children) {\r\n                return '?(' + node.children.map((c) => printNode(c as NodeType)).join(' ') + ')';\r\n            } else {\r\n                return node.name;\r\n            }\r\n        case ASTType.symbol:\r\n            return node.symbol;\r\n        case ASTType.power:\r\n            if (node.children) {\r\n                return '(' + printNode(node.children[0] as NodeType) + '^' +\r\n                    printNode(node.children[1] as NodeType) + ')';\r\n            } else {\r\n                return node.name;\r\n            }\r\n        case ASTType.summation:\r\n            if (node.children) {\r\n                return '(' + node.children.map((c) => printNode(c as NodeType)).join(' + ') + ')';\r\n            } else {\r\n                return node.name;\r\n            }\r\n        case ASTType.product:\r\n            if (node.children) {\r\n                return '(' + node.children.map((c) => printNode(c as NodeType)).join(' * ') + ')';\r\n            } else {\r\n                return node.name;\r\n            }\r\n        default:\r\n            return '';\r\n    }\r\n}","import * as d3 from 'd3';\r\nimport { hierarchy } from 'd3-hierarchy';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Container } from 'reactstrap';\r\nimport { printNode } from '../../engine/printing';\r\nimport { NodeType } from '../../engine/simplification';\r\nimport { FileContext } from '../../parsing/generated/ExpressionParser';\r\nimport { ASTNode } from '../../parsing/nodes/node';\r\nimport { RootState } from '../../stores/store';\r\nimport { getTree } from '../../stores/tree/selectors';\r\nimport './TreeView.scss';\r\n\r\ninterface Props {\r\n    tree?: { tree: ASTNode[], ruleNames: string[] };\r\n}\r\n\r\nclass TreeView extends React.Component<Props> {\r\n\r\n    /* private tree = (data: ASTNode) => {\r\n        const root = hierarchy(data);\r\n        \r\n        const treeLayout = d3.tree();\r\n        treeLayout.size([400, 200]);\r\n        treeLayout(root);\r\n    } */\r\n\r\n    private svg?: d3.Selection<SVGSVGElement | null, unknown, null, undefined>;\r\n    private width = 1100;\r\n    public render() {\r\n        return (\r\n            <React.Fragment>\r\n                <Container fluid={true} className=\"TreeView\">\r\n                    <svg\r\n                        ref={(element) => this.svg = d3.select(element)}\r\n                        width={'100%'}\r\n                    />\r\n                    {this.props.tree ? (\r\n                        <span className=\"StringView\">\r\n                            {printNode(this.props.tree.tree[0] as NodeType)}\r\n                        </span>\r\n                    ) : null}\r\n                </Container>\r\n                \r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    public componentDidUpdate() {\r\n        if (this.props.tree) {\r\n            this.svg!.select('g').remove();\r\n            this.chart(this.props.tree.tree[0]);\r\n        } else {\r\n            this.svg!.select('g').remove();\r\n        }\r\n    }\r\n\r\n    public componentDidMount() {\r\n        if (this.props.tree) {\r\n            this.svg!.select('g').remove();\r\n            this.chart(this.props.tree.tree[0]);\r\n        } else {\r\n            this.svg!.select('g').remove();\r\n        }\r\n    }\r\n\r\n    private tree = (data: ASTNode & { dx?: number, dy?: number }) => {\r\n        const root = hierarchy(data);\r\n        root.data.dx = 10;\r\n        root.data.dy = this.width / (root.height + 1);\r\n        return d3.tree<ASTNode & { dx?: number, dy?: number }>()\r\n            .nodeSize([root.data.dx, root.data.dy])(root);\r\n    }\r\n\r\n    private chart = (data: ASTNode) => {\r\n        const root = this.tree(data);\r\n\r\n        let x0 = Infinity;\r\n        let x1 = -x0;\r\n        root.each((d) => {\r\n            if (d.x > x1) { x1 = d.x; }\r\n            if (d.x < x0) { x0 = d.x; }\r\n        });\r\n\r\n        this.svg!\r\n            // tslint:disable-next-line:no-any\r\n            .attr('viewBox', [0, 0, this.width, x1 - x0 + root.data.dx! * 2] as any);\r\n\r\n        const g = this.svg!.append('g')\r\n            .attr('font-family', 'sans-serif')\r\n            .attr('font-size', 10)\r\n            .attr('transform', `translate(${root.data.dy! / 3},${root.data.dx! - x0})`);\r\n\r\n        const link = g.append('g')\r\n            .attr('fill', 'none')\r\n            .attr('stroke', '#555')\r\n            .attr('stroke-opacity', 0.4)\r\n            .attr('stroke-width', 1.5)\r\n            .selectAll('path')\r\n            .data(root.links())\r\n            .join('path')\r\n            .attr(\r\n                'd',\r\n                d3.linkHorizontal()\r\n                    // tslint:disable-next-line:no-any\r\n                    .x((d) => (d as any).y)\r\n                    // tslint:disable-next-line:no-any\r\n                    .y((d) => (d as any).x) as any\r\n            );\r\n\r\n        const node = g.append('g')\r\n            .attr('stroke-linejoin', 'round')\r\n            .attr('stroke-width', 3)\r\n            .selectAll('g')\r\n            .data(root.descendants())\r\n            .join('g')\r\n            .attr('transform', (d) => `translate(${d.y},${d.x})`);\r\n\r\n        node.append('circle')\r\n            .attr('fill', (d) => d.children ? '#555' : '#999')\r\n            .attr('r', 2.5);\r\n\r\n        node.append('text')\r\n            .attr('dy', '0.31em')\r\n            .attr('x', (d) => d.children ? -6 : 6)\r\n            .attr('text-anchor', (d) => d.children ? 'end' : 'start')\r\n            .text((d) => d.data.name)\r\n            .clone(true).lower()\r\n            .attr('stroke', 'white');\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n    tree: getTree(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(TreeView);\r\n","import * as actionCreators from './actionCreators';\r\nimport { ActionTypeNames } from './actions';\r\nimport State from './state';\r\n\r\nconst initialState: State = {\r\n    inputHistory: [],\r\n    lines: [],\r\n};\r\n\r\ntype Actions = ReturnType<typeof actionCreators[keyof typeof actionCreators]>;\r\n\r\nexport default function reducer(state: State = initialState, action: Actions): State {\r\n    switch (action.type) {\r\n        case ActionTypeNames.AddToInputHistory:\r\n            return {\r\n                ...state,\r\n                inputHistory: [...state.inputHistory, action.input]\r\n            };\r\n        case ActionTypeNames.AddToLog:\r\n            return {\r\n                ...state,\r\n                lines: [...state.lines, action.line]\r\n            };\r\n        case ActionTypeNames.SetHistory:\r\n            return {\r\n                ...action.history\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as actionCreators from './actionCreators';\r\nimport { ActionTypeNames } from './actions';\r\nimport State from './state';\r\n\r\nconst initialState: State = {\r\n    history: [],\r\n    index: -1,\r\n};\r\n\r\ntype Actions = ReturnType<typeof actionCreators[keyof typeof actionCreators]>;\r\n\r\nexport default function reducer(state: State = initialState, action: Actions): State {\r\n    switch (action.type) {\r\n        case ActionTypeNames.AddToHistory:\r\n            return {\r\n                history: [...(state.history || []), { tree: action.tree, ruleNames: action.ruleNames }],\r\n                index: state.index + 1,\r\n            };\r\n        case ActionTypeNames.SetHistory:\r\n            return {\r\n                ...action.history\r\n            };\r\n        case ActionTypeNames.Undo:\r\n            return {\r\n                ...state,\r\n                index: state.index - 1\r\n            };\r\n        case ActionTypeNames.Redo:\r\n            return {\r\n                ...state,\r\n                index: state.index + 1\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import State from '../stores/console/state';\r\n\r\nexport function saveHistory(history: State) {\r\n    localStorage.setItem('consoleCache', JSON.stringify(history));\r\n}\r\n\r\nexport function loadHistory() {\r\n    const history = localStorage.getItem('consoleCache');\r\n    if (history) {\r\n        return JSON.parse(history);\r\n    } else {\r\n        return { lines: [], inputHistory: [] };\r\n    }\r\n}","import { ASTNode, ASTType } from './node';\r\n\r\nexport class ASTNumberNode extends ASTNode {\r\n    public value: number;\r\n    public type: ASTType.number = ASTType.number;\r\n    \r\n    constructor(value: number) {\r\n        super(ASTType.variable, undefined);\r\n        this.value = value;\r\n        this.name = value.toString();\r\n    }\r\n}","import { ASTNode, ASTType } from './node';\r\n\r\nexport class ASTPowerNode extends ASTNode {\r\n    public type: ASTType.power = ASTType.power;\r\n\r\n    public constructor(children: ASTNode[]) {\r\n        super(ASTType.power, children);\r\n        this.name = '^';\r\n    }\r\n\r\n}","import { ASTNode, ASTType } from './node';\r\n\r\nexport class ASTProductNode extends ASTNode {\r\n    public type: ASTType.product = ASTType.product;\r\n\r\n    public constructor(children: ASTNode[]) {\r\n        super(ASTType.product, children);\r\n        this.name = '*';\r\n    }\r\n\r\n}","import { ASTNode, ASTType } from './node';\r\n\r\nexport class ASTSummationNode extends ASTNode {\r\n    public type: ASTType.summation = ASTType.summation;\r\n\r\n    public constructor(children: ASTNode[]) {\r\n        super(ASTType.summation, children);\r\n        this.name = '+';\r\n    }\r\n\r\n}","import _ from 'lodash';\r\nimport { ASTExpressionNode } from '../parsing/nodes/expressionNode';\r\nimport { ASTType } from '../parsing/nodes/node';\r\nimport { ASTNullNode } from '../parsing/nodes/nullNode';\r\nimport { ASTNumberNode } from '../parsing/nodes/numberNode';\r\nimport { ASTPowerNode } from '../parsing/nodes/powerNode';\r\nimport { ASTProductNode } from '../parsing/nodes/productNode';\r\nimport { ASTSummationNode } from '../parsing/nodes/summationNode';\r\nimport { ASTSymbolNode } from '../parsing/nodes/symbolNode';\r\nimport { ASTVariableNode } from '../parsing/nodes/variableNode';\r\n\r\nexport type NodeType = ASTNullNode | ASTNumberNode | ASTVariableNode | ASTSymbolNode |\r\n    ASTExpressionNode | ASTSummationNode | ASTProductNode | ASTPowerNode ;\r\n\r\nexport function simplifyInput(node: NodeType): NodeType | undefined {\r\n    switch (node.type) {\r\n        case ASTType.null:\r\n            return simplifyNull(node);\r\n        case ASTType.number:\r\n            return simplifyNumber(node);\r\n        case ASTType.variable:\r\n            return simplifyVariable(node);\r\n        case ASTType.symbol:\r\n            return simplifySymbol(node);\r\n        case ASTType.expression:\r\n            return simplifyExpression(node);\r\n        default:\r\n            return node;\r\n    }\r\n}\r\n\r\nfunction simplifyNull(node: ASTNullNode): NodeType | undefined {\r\n    return undefined;\r\n}\r\n\r\nfunction simplifyNumber(node: ASTNumberNode): NodeType | undefined {\r\n    return node;\r\n}\r\n\r\nfunction simplifyVariable(node: ASTVariableNode): NodeType | undefined {\r\n    return node;\r\n}\r\n\r\nfunction simplifySymbol(node: ASTSymbolNode): NodeType | undefined {\r\n    return undefined;\r\n}\r\n\r\nfunction simplifyExpression(node: ASTExpressionNode): NodeType | undefined {\r\n    const sI = simplifyInput;\r\n\r\n    if (node.children) {\r\n        if (node.children.length === 1) {\r\n            const child: NodeType = node.children[0] as NodeType;\r\n            // Check if expression only contains a variable\r\n            if (child.type === ASTType.variable) {\r\n                return simplifyInput(child);\r\n            }\r\n            // Check if expression only contains a number\r\n            if (child.type === ASTType.number) {\r\n                return simplifyInput(child);\r\n            }\r\n        }\r\n\r\n        if (node.children.length === 2) {\r\n            const children = node.children as NodeType[];\r\n            // (+ | -) exp\r\n            node.children = _.compact([\r\n                sI(new ASTNumberNode(0)),\r\n                children[0],\r\n                sI(children[1])\r\n            ]);\r\n            return sI(node);\r\n        }\r\n\r\n        if (node.children.length === 3) {\r\n            const children = node.children as NodeType[];\r\n            // Remove brackets\r\n            if (children[0].type === ASTType.symbol) {\r\n                return simplifyInput(children[1]);\r\n            }\r\n\r\n            const operator = children[1];\r\n            if (operator.type === ASTType.symbol) {\r\n                switch (operator.symbol) {\r\n                    case '+':\r\n                        return sI(new ASTSummationNode(_.compact([\r\n                            sI(children[0]),\r\n                            sI(children[2]),\r\n                        ])));\r\n                    case '-':\r\n                        return sI(new ASTSummationNode(_.compact([\r\n                            sI(node.children[0] as NodeType),\r\n                            sI(new ASTProductNode(_.compact([\r\n                                sI(new ASTNumberNode(-1)),\r\n                                sI(node.children[2] as NodeType)\r\n                            ]))),\r\n                        ])));\r\n                    case '*':\r\n                        return simplifyInput(new ASTProductNode(_.compact([\r\n                            simplifyInput(children[0]),\r\n                            simplifyInput(children[2]),\r\n                        ])));\r\n                    case '/':\r\n                        return sI(new ASTProductNode(_.compact([\r\n                            sI(node.children[0] as NodeType),\r\n                            sI(new ASTPowerNode(_.compact([\r\n                                sI(node.children[2] as NodeType),\r\n                                sI(new ASTNumberNode(-1))\r\n                            ]))),\r\n                        ])));\r\n                    case '^':\r\n                        return sI(new ASTPowerNode(_.compact([\r\n                            sI(node.children[0] as NodeType),\r\n                            sI(node.children[2] as NodeType),\r\n                        ])));\r\n                    default:\r\n                        return node;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Simplify children\r\n    if (node.children) {\r\n        node.children = _.compact(node.children.map((child) => {\r\n            return simplifyInput(child as NodeType);\r\n            // tslint:disable-next-line:no-any\r\n        }));\r\n    }\r\n    return node;\r\n}","/**\r\n * @license\r\n *\r\n * Copyright (c) 2018, IBM.\r\n *\r\n * This source code is licensed under the Apache License, Version 2.0 found in\r\n * the LICENSE.txt file in the root directory of this source tree.\r\n */\r\n\r\nimport { ANTLRErrorListener, CommonToken, RecognitionException, Recognizer, Token } from 'antlr4ts';\r\n// tslint:disable-next-line:no-submodule-imports\r\nimport { Override } from 'antlr4ts/Decorators';\r\n\r\nexport interface ParserResult {\r\n    // tslint:disable-next-line:no-any\r\n    ast: any;\r\n    errors: ParserError[];\r\n}\r\n\r\nexport interface ParserError {\r\n    line: number;\r\n    start: number;\r\n    end: number;\r\n    message: string;\r\n    level: ParseErrorLevel;\r\n}\r\n\r\nexport enum ParseErrorLevel {\r\n    ERROR,\r\n    WARNING\r\n}\r\n\r\nexport class ErrorListener implements ANTLRErrorListener<CommonToken> {\r\n    public errors: ParserError[] = [];\r\n\r\n    public addError(error: ParserError) {\r\n        this.errors.push(error);\r\n    }\r\n\r\n    public syntaxError<T extends Token>(\r\n        // tslint:disable-next-line:no-any\r\n        _recognizer: Recognizer<T, any>,\r\n        offendingSymbol: T | undefined,\r\n        line: number,\r\n        charPositionInLine: number,\r\n        msg: string,\r\n        _e: RecognitionException | undefined\r\n    ): void {\r\n        // _e contains the first token of the rule that failed\r\n        if (offendingSymbol && offendingSymbol.text) {\r\n            if (offendingSymbol.text === ')') {\r\n                this.errors.push({\r\n                    end: charPositionInLine + offendingSymbol.text.length,\r\n                    level: ParseErrorLevel.ERROR,\r\n                    line: line - 1,\r\n                    message: 'Expecting arguments before symbol )',\r\n                    start: charPositionInLine,\r\n                });\r\n            } else {\r\n                this.errors.push({\r\n                    end: charPositionInLine + offendingSymbol.text.length,\r\n                    level: ParseErrorLevel.ERROR,\r\n                    line: line - 1,\r\n                    message: msg,\r\n                    start: charPositionInLine,\r\n                });\r\n            }\r\n        }\r\n    }\r\n}","// Generated from src/parsing/grammars/Expression.g4 by ANTLR 4.7.3-SNAPSHOT\r\n\r\n\r\nimport { ATN } from \"antlr4ts/atn/ATN\";\r\nimport { ATNDeserializer } from \"antlr4ts/atn/ATNDeserializer\";\r\nimport { CharStream } from \"antlr4ts/CharStream\";\r\nimport { Lexer } from \"antlr4ts/Lexer\";\r\nimport { LexerATNSimulator } from \"antlr4ts/atn/LexerATNSimulator\";\r\nimport { NotNull } from \"antlr4ts/Decorators\";\r\nimport { Override } from \"antlr4ts/Decorators\";\r\nimport { RuleContext } from \"antlr4ts/RuleContext\";\r\nimport { Vocabulary } from \"antlr4ts/Vocabulary\";\r\nimport { VocabularyImpl } from \"antlr4ts/VocabularyImpl\";\r\n\r\nimport * as Utils from \"antlr4ts/misc/Utils\";\r\n\r\n\r\nexport class ExpressionLexer extends Lexer {\r\n\tpublic static readonly VARIABLE = 1;\r\n\tpublic static readonly SCIENTIFIC_NUMBER = 2;\r\n\tpublic static readonly LPAREN = 3;\r\n\tpublic static readonly RPAREN = 4;\r\n\tpublic static readonly PLUS = 5;\r\n\tpublic static readonly MINUS = 6;\r\n\tpublic static readonly TIMES = 7;\r\n\tpublic static readonly DIV = 8;\r\n\tpublic static readonly GT = 9;\r\n\tpublic static readonly LT = 10;\r\n\tpublic static readonly EQ = 11;\r\n\tpublic static readonly POINT = 12;\r\n\tpublic static readonly POW = 13;\r\n\tpublic static readonly WS = 14;\r\n\r\n\t// tslint:disable:no-trailing-whitespace\r\n\tpublic static readonly channelNames: string[] = [\r\n\t\t\"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\",\r\n\t];\r\n\r\n\t// tslint:disable:no-trailing-whitespace\r\n\tpublic static readonly modeNames: string[] = [\r\n\t\t\"DEFAULT_MODE\",\r\n\t];\r\n\r\n\tpublic static readonly ruleNames: string[] = [\r\n\t\t\"VARIABLE\", \"VALID_ID_START\", \"VALID_ID_CHAR\", \"SCIENTIFIC_NUMBER\", \"NUMBER\", \r\n\t\t\"UNSIGNED_INTEGER\", \"E\", \"SIGN\", \"LPAREN\", \"RPAREN\", \"PLUS\", \"MINUS\", \r\n\t\t\"TIMES\", \"DIV\", \"GT\", \"LT\", \"EQ\", \"POINT\", \"POW\", \"WS\",\r\n\t];\r\n\r\n\tprivate static readonly _LITERAL_NAMES: Array<string | undefined> = [\r\n\t\tundefined, undefined, undefined, \"'('\", \"')'\", \"'+'\", \"'-'\", \"'*'\", \"'/'\", \r\n\t\t\"'>'\", \"'<'\", \"'='\", \"'.'\", \"'^'\",\r\n\t];\r\n\tprivate static readonly _SYMBOLIC_NAMES: Array<string | undefined> = [\r\n\t\tundefined, \"VARIABLE\", \"SCIENTIFIC_NUMBER\", \"LPAREN\", \"RPAREN\", \"PLUS\", \r\n\t\t\"MINUS\", \"TIMES\", \"DIV\", \"GT\", \"LT\", \"EQ\", \"POINT\", \"POW\", \"WS\",\r\n\t];\r\n\tpublic static readonly VOCABULARY: Vocabulary = new VocabularyImpl(ExpressionLexer._LITERAL_NAMES, ExpressionLexer._SYMBOLIC_NAMES, []);\r\n\r\n\t// @Override\r\n\t// @NotNull\r\n\tpublic get vocabulary(): Vocabulary {\r\n\t\treturn ExpressionLexer.VOCABULARY;\r\n\t}\r\n\t// tslint:enable:no-trailing-whitespace\r\n\r\n\r\n\tconstructor(input: CharStream) {\r\n\t\tsuper(input);\r\n\t\tthis._interp = new LexerATNSimulator(ExpressionLexer._ATN, this);\r\n\t}\r\n\r\n\t// @Override\r\n\tpublic get grammarFileName(): string { return \"Expression.g4\"; }\r\n\r\n\t// @Override\r\n\tpublic get ruleNames(): string[] { return ExpressionLexer.ruleNames; }\r\n\r\n\t// @Override\r\n\tpublic get serializedATN(): string { return ExpressionLexer._serializedATN; }\r\n\r\n\t// @Override\r\n\tpublic get channelNames(): string[] { return ExpressionLexer.channelNames; }\r\n\r\n\t// @Override\r\n\tpublic get modeNames(): string[] { return ExpressionLexer.modeNames; }\r\n\r\n\tpublic static readonly _serializedATN: string =\r\n\t\t\"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x02\\x10u\\b\\x01\\x04\" +\r\n\t\t\"\\x02\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\\x04\" +\r\n\t\t\"\\x07\\t\\x07\\x04\\b\\t\\b\\x04\\t\\t\\t\\x04\\n\\t\\n\\x04\\v\\t\\v\\x04\\f\\t\\f\\x04\\r\\t\\r\" +\r\n\t\t\"\\x04\\x0E\\t\\x0E\\x04\\x0F\\t\\x0F\\x04\\x10\\t\\x10\\x04\\x11\\t\\x11\\x04\\x12\\t\\x12\" +\r\n\t\t\"\\x04\\x13\\t\\x13\\x04\\x14\\t\\x14\\x04\\x15\\t\\x15\\x03\\x02\\x03\\x02\\x07\\x02.\\n\" +\r\n\t\t\"\\x02\\f\\x02\\x0E\\x021\\v\\x02\\x03\\x03\\x05\\x034\\n\\x03\\x03\\x04\\x03\\x04\\x05\\x04\" +\r\n\t\t\"8\\n\\x04\\x03\\x05\\x03\\x05\\x03\\x05\\x05\\x05=\\n\\x05\\x03\\x05\\x03\\x05\\x05\\x05\" +\r\n\t\t\"A\\n\\x05\\x03\\x06\\x06\\x06D\\n\\x06\\r\\x06\\x0E\\x06E\\x03\\x06\\x03\\x06\\x06\\x06\" +\r\n\t\t\"J\\n\\x06\\r\\x06\\x0E\\x06K\\x05\\x06N\\n\\x06\\x03\\x07\\x06\\x07Q\\n\\x07\\r\\x07\\x0E\" +\r\n\t\t\"\\x07R\\x03\\b\\x03\\b\\x03\\t\\x03\\t\\x03\\n\\x03\\n\\x03\\v\\x03\\v\\x03\\f\\x03\\f\\x03\" +\r\n\t\t\"\\r\\x03\\r\\x03\\x0E\\x03\\x0E\\x03\\x0F\\x03\\x0F\\x03\\x10\\x03\\x10\\x03\\x11\\x03\\x11\" +\r\n\t\t\"\\x03\\x12\\x03\\x12\\x03\\x13\\x03\\x13\\x03\\x14\\x03\\x14\\x03\\x15\\x06\\x15p\\n\\x15\" +\r\n\t\t\"\\r\\x15\\x0E\\x15q\\x03\\x15\\x03\\x15\\x02\\x02\\x02\\x16\\x03\\x02\\x03\\x05\\x02\\x02\" +\r\n\t\t\"\\x07\\x02\\x02\\t\\x02\\x04\\v\\x02\\x02\\r\\x02\\x02\\x0F\\x02\\x02\\x11\\x02\\x02\\x13\" +\r\n\t\t\"\\x02\\x05\\x15\\x02\\x06\\x17\\x02\\x07\\x19\\x02\\b\\x1B\\x02\\t\\x1D\\x02\\n\\x1F\\x02\" +\r\n\t\t\"\\v!\\x02\\f#\\x02\\r%\\x02\\x0E\\'\\x02\\x0F)\\x02\\x10\\x03\\x02\\x06\\x05\\x02C\\\\aa\" +\r\n\t\t\"c|\\x04\\x02GGgg\\x04\\x02--//\\x05\\x02\\v\\f\\x0F\\x0F\\\"\\\"\\x02w\\x02\\x03\\x03\\x02\" +\r\n\t\t\"\\x02\\x02\\x02\\t\\x03\\x02\\x02\\x02\\x02\\x13\\x03\\x02\\x02\\x02\\x02\\x15\\x03\\x02\" +\r\n\t\t\"\\x02\\x02\\x02\\x17\\x03\\x02\\x02\\x02\\x02\\x19\\x03\\x02\\x02\\x02\\x02\\x1B\\x03\\x02\" +\r\n\t\t\"\\x02\\x02\\x02\\x1D\\x03\\x02\\x02\\x02\\x02\\x1F\\x03\\x02\\x02\\x02\\x02!\\x03\\x02\" +\r\n\t\t\"\\x02\\x02\\x02#\\x03\\x02\\x02\\x02\\x02%\\x03\\x02\\x02\\x02\\x02\\'\\x03\\x02\\x02\\x02\" +\r\n\t\t\"\\x02)\\x03\\x02\\x02\\x02\\x03+\\x03\\x02\\x02\\x02\\x053\\x03\\x02\\x02\\x02\\x077\\x03\" +\r\n\t\t\"\\x02\\x02\\x02\\t9\\x03\\x02\\x02\\x02\\vC\\x03\\x02\\x02\\x02\\rP\\x03\\x02\\x02\\x02\" +\r\n\t\t\"\\x0FT\\x03\\x02\\x02\\x02\\x11V\\x03\\x02\\x02\\x02\\x13X\\x03\\x02\\x02\\x02\\x15Z\\x03\" +\r\n\t\t\"\\x02\\x02\\x02\\x17\\\\\\x03\\x02\\x02\\x02\\x19^\\x03\\x02\\x02\\x02\\x1B`\\x03\\x02\\x02\" +\r\n\t\t\"\\x02\\x1Db\\x03\\x02\\x02\\x02\\x1Fd\\x03\\x02\\x02\\x02!f\\x03\\x02\\x02\\x02#h\\x03\" +\r\n\t\t\"\\x02\\x02\\x02%j\\x03\\x02\\x02\\x02\\'l\\x03\\x02\\x02\\x02)o\\x03\\x02\\x02\\x02+/\" +\r\n\t\t\"\\x05\\x05\\x03\\x02,.\\x05\\x07\\x04\\x02-,\\x03\\x02\\x02\\x02.1\\x03\\x02\\x02\\x02\" +\r\n\t\t\"/-\\x03\\x02\\x02\\x02/0\\x03\\x02\\x02\\x020\\x04\\x03\\x02\\x02\\x021/\\x03\\x02\\x02\" +\r\n\t\t\"\\x0224\\t\\x02\\x02\\x0232\\x03\\x02\\x02\\x024\\x06\\x03\\x02\\x02\\x0258\\x05\\x05\" +\r\n\t\t\"\\x03\\x0268\\x042;\\x0275\\x03\\x02\\x02\\x0276\\x03\\x02\\x02\\x028\\b\\x03\\x02\\x02\" +\r\n\t\t\"\\x029@\\x05\\v\\x06\\x02:<\\x05\\x0F\\b\\x02;=\\x05\\x11\\t\\x02<;\\x03\\x02\\x02\\x02\" +\r\n\t\t\"<=\\x03\\x02\\x02\\x02=>\\x03\\x02\\x02\\x02>?\\x05\\r\\x07\\x02?A\\x03\\x02\\x02\\x02\" +\r\n\t\t\"@:\\x03\\x02\\x02\\x02@A\\x03\\x02\\x02\\x02A\\n\\x03\\x02\\x02\\x02BD\\x042;\\x02CB\" +\r\n\t\t\"\\x03\\x02\\x02\\x02DE\\x03\\x02\\x02\\x02EC\\x03\\x02\\x02\\x02EF\\x03\\x02\\x02\\x02\" +\r\n\t\t\"FM\\x03\\x02\\x02\\x02GI\\x070\\x02\\x02HJ\\x042;\\x02IH\\x03\\x02\\x02\\x02JK\\x03\" +\r\n\t\t\"\\x02\\x02\\x02KI\\x03\\x02\\x02\\x02KL\\x03\\x02\\x02\\x02LN\\x03\\x02\\x02\\x02MG\\x03\" +\r\n\t\t\"\\x02\\x02\\x02MN\\x03\\x02\\x02\\x02N\\f\\x03\\x02\\x02\\x02OQ\\x042;\\x02PO\\x03\\x02\" +\r\n\t\t\"\\x02\\x02QR\\x03\\x02\\x02\\x02RP\\x03\\x02\\x02\\x02RS\\x03\\x02\\x02\\x02S\\x0E\\x03\" +\r\n\t\t\"\\x02\\x02\\x02TU\\t\\x03\\x02\\x02U\\x10\\x03\\x02\\x02\\x02VW\\t\\x04\\x02\\x02W\\x12\" +\r\n\t\t\"\\x03\\x02\\x02\\x02XY\\x07*\\x02\\x02Y\\x14\\x03\\x02\\x02\\x02Z[\\x07+\\x02\\x02[\\x16\" +\r\n\t\t\"\\x03\\x02\\x02\\x02\\\\]\\x07-\\x02\\x02]\\x18\\x03\\x02\\x02\\x02^_\\x07/\\x02\\x02_\" +\r\n\t\t\"\\x1A\\x03\\x02\\x02\\x02`a\\x07,\\x02\\x02a\\x1C\\x03\\x02\\x02\\x02bc\\x071\\x02\\x02\" +\r\n\t\t\"c\\x1E\\x03\\x02\\x02\\x02de\\x07@\\x02\\x02e \\x03\\x02\\x02\\x02fg\\x07>\\x02\\x02\" +\r\n\t\t\"g\\\"\\x03\\x02\\x02\\x02hi\\x07?\\x02\\x02i$\\x03\\x02\\x02\\x02jk\\x070\\x02\\x02k&\" +\r\n\t\t\"\\x03\\x02\\x02\\x02lm\\x07`\\x02\\x02m(\\x03\\x02\\x02\\x02np\\t\\x05\\x02\\x02on\\x03\" +\r\n\t\t\"\\x02\\x02\\x02pq\\x03\\x02\\x02\\x02qo\\x03\\x02\\x02\\x02qr\\x03\\x02\\x02\\x02rs\\x03\" +\r\n\t\t\"\\x02\\x02\\x02st\\b\\x15\\x02\\x02t*\\x03\\x02\\x02\\x02\\r\\x02/37<@EKMRq\\x03\\b\\x02\" +\r\n\t\t\"\\x02\";\r\n\tpublic static __ATN: ATN;\r\n\tpublic static get _ATN(): ATN {\r\n\t\tif (!ExpressionLexer.__ATN) {\r\n\t\t\tExpressionLexer.__ATN = new ATNDeserializer().deserialize(Utils.toCharArray(ExpressionLexer._serializedATN));\r\n\t\t}\r\n\r\n\t\treturn ExpressionLexer.__ATN;\r\n\t}\r\n\r\n}\r\n\r\n","// Generated from src/parsing/grammars/Expression.g4 by ANTLR 4.7.3-SNAPSHOT\r\n\r\n\r\nimport { ATN } from \"antlr4ts/atn/ATN\";\r\nimport { ATNDeserializer } from \"antlr4ts/atn/ATNDeserializer\";\r\nimport { FailedPredicateException } from \"antlr4ts/FailedPredicateException\";\r\nimport { NotNull } from \"antlr4ts/Decorators\";\r\nimport { NoViableAltException } from \"antlr4ts/NoViableAltException\";\r\nimport { Override } from \"antlr4ts/Decorators\";\r\nimport { Parser } from \"antlr4ts/Parser\";\r\nimport { ParserRuleContext } from \"antlr4ts/ParserRuleContext\";\r\nimport { ParserATNSimulator } from \"antlr4ts/atn/ParserATNSimulator\";\r\nimport { ParseTreeListener } from \"antlr4ts/tree/ParseTreeListener\";\r\nimport { ParseTreeVisitor } from \"antlr4ts/tree/ParseTreeVisitor\";\r\nimport { RecognitionException } from \"antlr4ts/RecognitionException\";\r\nimport { RuleContext } from \"antlr4ts/RuleContext\";\r\n//import { RuleVersion } from \"antlr4ts/RuleVersion\";\r\nimport { TerminalNode } from \"antlr4ts/tree/TerminalNode\";\r\nimport { Token } from \"antlr4ts/Token\";\r\nimport { TokenStream } from \"antlr4ts/TokenStream\";\r\nimport { Vocabulary } from \"antlr4ts/Vocabulary\";\r\nimport { VocabularyImpl } from \"antlr4ts/VocabularyImpl\";\r\n\r\nimport * as Utils from \"antlr4ts/misc/Utils\";\r\n\r\nimport { ExpressionListener } from \"./ExpressionListener\";\r\nimport { ExpressionVisitor } from \"./ExpressionVisitor\";\r\n\r\n\r\nexport class ExpressionParser extends Parser {\r\n\tpublic static readonly VARIABLE = 1;\r\n\tpublic static readonly SCIENTIFIC_NUMBER = 2;\r\n\tpublic static readonly LPAREN = 3;\r\n\tpublic static readonly RPAREN = 4;\r\n\tpublic static readonly PLUS = 5;\r\n\tpublic static readonly MINUS = 6;\r\n\tpublic static readonly TIMES = 7;\r\n\tpublic static readonly DIV = 8;\r\n\tpublic static readonly GT = 9;\r\n\tpublic static readonly LT = 10;\r\n\tpublic static readonly EQ = 11;\r\n\tpublic static readonly POINT = 12;\r\n\tpublic static readonly POW = 13;\r\n\tpublic static readonly WS = 14;\r\n\tpublic static readonly RULE_file = 0;\r\n\tpublic static readonly RULE_expression = 1;\r\n\tpublic static readonly RULE_atom = 2;\r\n\tpublic static readonly RULE_scientific = 3;\r\n\tpublic static readonly RULE_variable = 4;\r\n\tpublic static readonly RULE_relop = 5;\r\n\t// tslint:disable:no-trailing-whitespace\r\n\tpublic static readonly ruleNames: string[] = [\r\n\t\t\"file\", \"expression\", \"atom\", \"scientific\", \"variable\", \"relop\",\r\n\t];\r\n\r\n\tprivate static readonly _LITERAL_NAMES: Array<string | undefined> = [\r\n\t\tundefined, undefined, undefined, \"'('\", \"')'\", \"'+'\", \"'-'\", \"'*'\", \"'/'\", \r\n\t\t\"'>'\", \"'<'\", \"'='\", \"'.'\", \"'^'\",\r\n\t];\r\n\tprivate static readonly _SYMBOLIC_NAMES: Array<string | undefined> = [\r\n\t\tundefined, \"VARIABLE\", \"SCIENTIFIC_NUMBER\", \"LPAREN\", \"RPAREN\", \"PLUS\", \r\n\t\t\"MINUS\", \"TIMES\", \"DIV\", \"GT\", \"LT\", \"EQ\", \"POINT\", \"POW\", \"WS\",\r\n\t];\r\n\tpublic static readonly VOCABULARY: Vocabulary = new VocabularyImpl(ExpressionParser._LITERAL_NAMES, ExpressionParser._SYMBOLIC_NAMES, []);\r\n\r\n\t// @Override\r\n\t// @NotNull\r\n\tpublic get vocabulary(): Vocabulary {\r\n\t\treturn ExpressionParser.VOCABULARY;\r\n\t}\r\n\t// tslint:enable:no-trailing-whitespace\r\n\r\n\t// @Override\r\n\tpublic get grammarFileName(): string { return \"Expression.g4\"; }\r\n\r\n\t// @Override\r\n\tpublic get ruleNames(): string[] { return ExpressionParser.ruleNames; }\r\n\r\n\t// @Override\r\n\tpublic get serializedATN(): string { return ExpressionParser._serializedATN; }\r\n\r\n\tconstructor(input: TokenStream) {\r\n\t\tsuper(input);\r\n\t\tthis._interp = new ParserATNSimulator(ExpressionParser._ATN, this);\r\n\t}\r\n\t// @RuleVersion(0)\r\n\tpublic file(): FileContext {\r\n\t\tlet _localctx: FileContext = new FileContext(this._ctx, this.state);\r\n\t\tthis.enterRule(_localctx, 0, ExpressionParser.RULE_file);\r\n\t\ttry {\r\n\t\t\tthis.enterOuterAlt(_localctx, 1);\r\n\t\t\t{\r\n\t\t\tthis.state = 12;\r\n\t\t\tthis.expression(0);\r\n\t\t\tthis.state = 13;\r\n\t\t\tthis.match(ExpressionParser.EOF);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (re) {\r\n\t\t\tif (re instanceof RecognitionException) {\r\n\t\t\t\t_localctx.exception = re;\r\n\t\t\t\tthis._errHandler.reportError(this, re);\r\n\t\t\t\tthis._errHandler.recover(this, re);\r\n\t\t\t} else {\r\n\t\t\t\tthrow re;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.exitRule();\r\n\t\t}\r\n\t\treturn _localctx;\r\n\t}\r\n\r\n\tpublic expression(): ExpressionContext;\r\n\tpublic expression(_p: number): ExpressionContext;\r\n\t// @RuleVersion(0)\r\n\tpublic expression(_p?: number): ExpressionContext {\r\n\t\tif (_p === undefined) {\r\n\t\t\t_p = 0;\r\n\t\t}\r\n\r\n\t\tlet _parentctx: ParserRuleContext = this._ctx;\r\n\t\tlet _parentState: number = this.state;\r\n\t\tlet _localctx: ExpressionContext = new ExpressionContext(this._ctx, _parentState);\r\n\t\tlet _prevctx: ExpressionContext = _localctx;\r\n\t\tlet _startState: number = 2;\r\n\t\tthis.enterRecursionRule(_localctx, 2, ExpressionParser.RULE_expression, _p);\r\n\t\tlet _la: number;\r\n\t\ttry {\r\n\t\t\tlet _alt: number;\r\n\t\t\tthis.enterOuterAlt(_localctx, 1);\r\n\t\t\t{\r\n\t\t\tthis.state = 24;\r\n\t\t\tthis._errHandler.sync(this);\r\n\t\t\tswitch (this._input.LA(1)) {\r\n\t\t\tcase ExpressionParser.LPAREN:\r\n\t\t\t\t{\r\n\t\t\t\tthis.state = 16;\r\n\t\t\t\tthis.match(ExpressionParser.LPAREN);\r\n\t\t\t\tthis.state = 17;\r\n\t\t\t\tthis.expression(0);\r\n\t\t\t\tthis.state = 18;\r\n\t\t\t\tthis.match(ExpressionParser.RPAREN);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase ExpressionParser.PLUS:\r\n\t\t\t\t{\r\n\t\t\t\tthis.state = 20;\r\n\t\t\t\tthis.match(ExpressionParser.PLUS);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase ExpressionParser.MINUS:\r\n\t\t\t\t{\r\n\t\t\t\tthis.state = 21;\r\n\t\t\t\tthis.match(ExpressionParser.MINUS);\r\n\t\t\t\tthis.state = 22;\r\n\t\t\t\tthis.atom();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase ExpressionParser.VARIABLE:\r\n\t\t\tcase ExpressionParser.SCIENTIFIC_NUMBER:\r\n\t\t\t\t{\r\n\t\t\t\tthis.state = 23;\r\n\t\t\t\tthis.atom();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new NoViableAltException(this);\r\n\t\t\t}\r\n\t\t\tthis._ctx._stop = this._input.tryLT(-1);\r\n\t\t\tthis.state = 37;\r\n\t\t\tthis._errHandler.sync(this);\r\n\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 2, this._ctx);\r\n\t\t\twhile (_alt !== 2 && _alt !== ATN.INVALID_ALT_NUMBER) {\r\n\t\t\t\tif (_alt === 1) {\r\n\t\t\t\t\tif (this._parseListeners != null) {\r\n\t\t\t\t\t\tthis.triggerExitRuleEvent();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_prevctx = _localctx;\r\n\t\t\t\t\t{\r\n\t\t\t\t\tthis.state = 35;\r\n\t\t\t\t\tthis._errHandler.sync(this);\r\n\t\t\t\t\tswitch ( this.interpreter.adaptivePredict(this._input, 1, this._ctx) ) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t_localctx = new ExpressionContext(_parentctx, _parentState);\r\n\t\t\t\t\t\tthis.pushNewRecursionContext(_localctx, _startState, ExpressionParser.RULE_expression);\r\n\t\t\t\t\t\tthis.state = 26;\r\n\t\t\t\t\t\tif (!(this.precpred(this._ctx, 7))) {\r\n\t\t\t\t\t\t\tthrow new FailedPredicateException(this, \"this.precpred(this._ctx, 7)\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.state = 27;\r\n\t\t\t\t\t\tthis.match(ExpressionParser.POW);\r\n\t\t\t\t\t\tthis.state = 28;\r\n\t\t\t\t\t\tthis.expression(8);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t_localctx = new ExpressionContext(_parentctx, _parentState);\r\n\t\t\t\t\t\tthis.pushNewRecursionContext(_localctx, _startState, ExpressionParser.RULE_expression);\r\n\t\t\t\t\t\tthis.state = 29;\r\n\t\t\t\t\t\tif (!(this.precpred(this._ctx, 6))) {\r\n\t\t\t\t\t\t\tthrow new FailedPredicateException(this, \"this.precpred(this._ctx, 6)\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.state = 30;\r\n\t\t\t\t\t\t_la = this._input.LA(1);\r\n\t\t\t\t\t\tif (!(_la === ExpressionParser.TIMES || _la === ExpressionParser.DIV)) {\r\n\t\t\t\t\t\tthis._errHandler.recoverInline(this);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this._input.LA(1) === Token.EOF) {\r\n\t\t\t\t\t\t\t\tthis.matchedEOF = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis._errHandler.reportMatch(this);\r\n\t\t\t\t\t\t\tthis.consume();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.state = 31;\r\n\t\t\t\t\t\tthis.expression(7);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t_localctx = new ExpressionContext(_parentctx, _parentState);\r\n\t\t\t\t\t\tthis.pushNewRecursionContext(_localctx, _startState, ExpressionParser.RULE_expression);\r\n\t\t\t\t\t\tthis.state = 32;\r\n\t\t\t\t\t\tif (!(this.precpred(this._ctx, 5))) {\r\n\t\t\t\t\t\t\tthrow new FailedPredicateException(this, \"this.precpred(this._ctx, 5)\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.state = 33;\r\n\t\t\t\t\t\t_la = this._input.LA(1);\r\n\t\t\t\t\t\tif (!(_la === ExpressionParser.PLUS || _la === ExpressionParser.MINUS)) {\r\n\t\t\t\t\t\tthis._errHandler.recoverInline(this);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this._input.LA(1) === Token.EOF) {\r\n\t\t\t\t\t\t\t\tthis.matchedEOF = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis._errHandler.reportMatch(this);\r\n\t\t\t\t\t\t\tthis.consume();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.state = 34;\r\n\t\t\t\t\t\tthis.expression(6);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.state = 39;\r\n\t\t\t\tthis._errHandler.sync(this);\r\n\t\t\t\t_alt = this.interpreter.adaptivePredict(this._input, 2, this._ctx);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (re) {\r\n\t\t\tif (re instanceof RecognitionException) {\r\n\t\t\t\t_localctx.exception = re;\r\n\t\t\t\tthis._errHandler.reportError(this, re);\r\n\t\t\t\tthis._errHandler.recover(this, re);\r\n\t\t\t} else {\r\n\t\t\t\tthrow re;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.unrollRecursionContexts(_parentctx);\r\n\t\t}\r\n\t\treturn _localctx;\r\n\t}\r\n\t// @RuleVersion(0)\r\n\tpublic atom(): AtomContext {\r\n\t\tlet _localctx: AtomContext = new AtomContext(this._ctx, this.state);\r\n\t\tthis.enterRule(_localctx, 4, ExpressionParser.RULE_atom);\r\n\t\ttry {\r\n\t\t\tthis.state = 42;\r\n\t\t\tthis._errHandler.sync(this);\r\n\t\t\tswitch (this._input.LA(1)) {\r\n\t\t\tcase ExpressionParser.SCIENTIFIC_NUMBER:\r\n\t\t\t\tthis.enterOuterAlt(_localctx, 1);\r\n\t\t\t\t{\r\n\t\t\t\tthis.state = 40;\r\n\t\t\t\tthis.scientific();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase ExpressionParser.VARIABLE:\r\n\t\t\t\tthis.enterOuterAlt(_localctx, 2);\r\n\t\t\t\t{\r\n\t\t\t\tthis.state = 41;\r\n\t\t\t\tthis.variable();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new NoViableAltException(this);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (re) {\r\n\t\t\tif (re instanceof RecognitionException) {\r\n\t\t\t\t_localctx.exception = re;\r\n\t\t\t\tthis._errHandler.reportError(this, re);\r\n\t\t\t\tthis._errHandler.recover(this, re);\r\n\t\t\t} else {\r\n\t\t\t\tthrow re;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.exitRule();\r\n\t\t}\r\n\t\treturn _localctx;\r\n\t}\r\n\t// @RuleVersion(0)\r\n\tpublic scientific(): ScientificContext {\r\n\t\tlet _localctx: ScientificContext = new ScientificContext(this._ctx, this.state);\r\n\t\tthis.enterRule(_localctx, 6, ExpressionParser.RULE_scientific);\r\n\t\ttry {\r\n\t\t\tthis.enterOuterAlt(_localctx, 1);\r\n\t\t\t{\r\n\t\t\tthis.state = 44;\r\n\t\t\tthis.match(ExpressionParser.SCIENTIFIC_NUMBER);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (re) {\r\n\t\t\tif (re instanceof RecognitionException) {\r\n\t\t\t\t_localctx.exception = re;\r\n\t\t\t\tthis._errHandler.reportError(this, re);\r\n\t\t\t\tthis._errHandler.recover(this, re);\r\n\t\t\t} else {\r\n\t\t\t\tthrow re;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.exitRule();\r\n\t\t}\r\n\t\treturn _localctx;\r\n\t}\r\n\t// @RuleVersion(0)\r\n\tpublic variable(): VariableContext {\r\n\t\tlet _localctx: VariableContext = new VariableContext(this._ctx, this.state);\r\n\t\tthis.enterRule(_localctx, 8, ExpressionParser.RULE_variable);\r\n\t\ttry {\r\n\t\t\tthis.enterOuterAlt(_localctx, 1);\r\n\t\t\t{\r\n\t\t\tthis.state = 46;\r\n\t\t\tthis.match(ExpressionParser.VARIABLE);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (re) {\r\n\t\t\tif (re instanceof RecognitionException) {\r\n\t\t\t\t_localctx.exception = re;\r\n\t\t\t\tthis._errHandler.reportError(this, re);\r\n\t\t\t\tthis._errHandler.recover(this, re);\r\n\t\t\t} else {\r\n\t\t\t\tthrow re;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.exitRule();\r\n\t\t}\r\n\t\treturn _localctx;\r\n\t}\r\n\t// @RuleVersion(0)\r\n\tpublic relop(): RelopContext {\r\n\t\tlet _localctx: RelopContext = new RelopContext(this._ctx, this.state);\r\n\t\tthis.enterRule(_localctx, 10, ExpressionParser.RULE_relop);\r\n\t\tlet _la: number;\r\n\t\ttry {\r\n\t\t\tthis.enterOuterAlt(_localctx, 1);\r\n\t\t\t{\r\n\t\t\tthis.state = 48;\r\n\t\t\t_la = this._input.LA(1);\r\n\t\t\tif (!((((_la) & ~0x1F) === 0 && ((1 << _la) & ((1 << ExpressionParser.GT) | (1 << ExpressionParser.LT) | (1 << ExpressionParser.EQ))) !== 0))) {\r\n\t\t\tthis._errHandler.recoverInline(this);\r\n\t\t\t} else {\r\n\t\t\t\tif (this._input.LA(1) === Token.EOF) {\r\n\t\t\t\t\tthis.matchedEOF = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._errHandler.reportMatch(this);\r\n\t\t\t\tthis.consume();\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (re) {\r\n\t\t\tif (re instanceof RecognitionException) {\r\n\t\t\t\t_localctx.exception = re;\r\n\t\t\t\tthis._errHandler.reportError(this, re);\r\n\t\t\t\tthis._errHandler.recover(this, re);\r\n\t\t\t} else {\r\n\t\t\t\tthrow re;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tthis.exitRule();\r\n\t\t}\r\n\t\treturn _localctx;\r\n\t}\r\n\r\n\tpublic sempred(_localctx: RuleContext, ruleIndex: number, predIndex: number): boolean {\r\n\t\tswitch (ruleIndex) {\r\n\t\tcase 1:\r\n\t\t\treturn this.expression_sempred(_localctx as ExpressionContext, predIndex);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tprivate expression_sempred(_localctx: ExpressionContext, predIndex: number): boolean {\r\n\t\tswitch (predIndex) {\r\n\t\tcase 0:\r\n\t\t\treturn this.precpred(this._ctx, 7);\r\n\r\n\t\tcase 1:\r\n\t\t\treturn this.precpred(this._ctx, 6);\r\n\r\n\t\tcase 2:\r\n\t\t\treturn this.precpred(this._ctx, 5);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static readonly _serializedATN: string =\r\n\t\t\"\\x03\\uC91D\\uCABA\\u058D\\uAFBA\\u4F53\\u0607\\uEA8B\\uC241\\x03\\x105\\x04\\x02\" +\r\n\t\t\"\\t\\x02\\x04\\x03\\t\\x03\\x04\\x04\\t\\x04\\x04\\x05\\t\\x05\\x04\\x06\\t\\x06\\x04\\x07\" +\r\n\t\t\"\\t\\x07\\x03\\x02\\x03\\x02\\x03\\x02\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\" +\r\n\t\t\"\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x05\\x03\\x1B\\n\\x03\\x03\\x03\\x03\\x03\\x03\" +\r\n\t\t\"\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x03\\x07\\x03&\\n\\x03\\f\" +\r\n\t\t\"\\x03\\x0E\\x03)\\v\\x03\\x03\\x04\\x03\\x04\\x05\\x04-\\n\\x04\\x03\\x05\\x03\\x05\\x03\" +\r\n\t\t\"\\x06\\x03\\x06\\x03\\x07\\x03\\x07\\x03\\x07\\x02\\x02\\x03\\x04\\b\\x02\\x02\\x04\\x02\" +\r\n\t\t\"\\x06\\x02\\b\\x02\\n\\x02\\f\\x02\\x02\\x05\\x03\\x02\\t\\n\\x03\\x02\\x07\\b\\x03\\x02\\v\" +\r\n\t\t\"\\r\\x025\\x02\\x0E\\x03\\x02\\x02\\x02\\x04\\x1A\\x03\\x02\\x02\\x02\\x06,\\x03\\x02\\x02\" +\r\n\t\t\"\\x02\\b.\\x03\\x02\\x02\\x02\\n0\\x03\\x02\\x02\\x02\\f2\\x03\\x02\\x02\\x02\\x0E\\x0F\" +\r\n\t\t\"\\x05\\x04\\x03\\x02\\x0F\\x10\\x07\\x02\\x02\\x03\\x10\\x03\\x03\\x02\\x02\\x02\\x11\\x12\" +\r\n\t\t\"\\b\\x03\\x01\\x02\\x12\\x13\\x07\\x05\\x02\\x02\\x13\\x14\\x05\\x04\\x03\\x02\\x14\\x15\" +\r\n\t\t\"\\x07\\x06\\x02\\x02\\x15\\x1B\\x03\\x02\\x02\\x02\\x16\\x1B\\x07\\x07\\x02\\x02\\x17\\x18\" +\r\n\t\t\"\\x07\\b\\x02\\x02\\x18\\x1B\\x05\\x06\\x04\\x02\\x19\\x1B\\x05\\x06\\x04\\x02\\x1A\\x11\" +\r\n\t\t\"\\x03\\x02\\x02\\x02\\x1A\\x16\\x03\\x02\\x02\\x02\\x1A\\x17\\x03\\x02\\x02\\x02\\x1A\\x19\" +\r\n\t\t\"\\x03\\x02\\x02\\x02\\x1B\\'\\x03\\x02\\x02\\x02\\x1C\\x1D\\f\\t\\x02\\x02\\x1D\\x1E\\x07\" +\r\n\t\t\"\\x0F\\x02\\x02\\x1E&\\x05\\x04\\x03\\n\\x1F \\f\\b\\x02\\x02 !\\t\\x02\\x02\\x02!&\\x05\" +\r\n\t\t\"\\x04\\x03\\t\\\"#\\f\\x07\\x02\\x02#$\\t\\x03\\x02\\x02$&\\x05\\x04\\x03\\b%\\x1C\\x03\\x02\" +\r\n\t\t\"\\x02\\x02%\\x1F\\x03\\x02\\x02\\x02%\\\"\\x03\\x02\\x02\\x02&)\\x03\\x02\\x02\\x02\\'%\" +\r\n\t\t\"\\x03\\x02\\x02\\x02\\'(\\x03\\x02\\x02\\x02(\\x05\\x03\\x02\\x02\\x02)\\'\\x03\\x02\\x02\" +\r\n\t\t\"\\x02*-\\x05\\b\\x05\\x02+-\\x05\\n\\x06\\x02,*\\x03\\x02\\x02\\x02,+\\x03\\x02\\x02\\x02\" +\r\n\t\t\"-\\x07\\x03\\x02\\x02\\x02./\\x07\\x04\\x02\\x02/\\t\\x03\\x02\\x02\\x0201\\x07\\x03\\x02\" +\r\n\t\t\"\\x021\\v\\x03\\x02\\x02\\x0223\\t\\x04\\x02\\x023\\r\\x03\\x02\\x02\\x02\\x06\\x1A%\\'\" +\r\n\t\t\",\";\r\n\tpublic static __ATN: ATN;\r\n\tpublic static get _ATN(): ATN {\r\n\t\tif (!ExpressionParser.__ATN) {\r\n\t\t\tExpressionParser.__ATN = new ATNDeserializer().deserialize(Utils.toCharArray(ExpressionParser._serializedATN));\r\n\t\t}\r\n\r\n\t\treturn ExpressionParser.__ATN;\r\n\t}\r\n\r\n}\r\n\r\nexport class FileContext extends ParserRuleContext {\r\n\tpublic expression(): ExpressionContext {\r\n\t\treturn this.getRuleContext(0, ExpressionContext);\r\n\t}\r\n\tpublic EOF(): TerminalNode { return this.getToken(ExpressionParser.EOF, 0); }\r\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\r\n\t\tsuper(parent, invokingState);\r\n\t}\r\n\t// @Override\r\n\tpublic get ruleIndex(): number { return ExpressionParser.RULE_file; }\r\n\t// @Override\r\n\tpublic enterRule(listener: ExpressionListener): void {\r\n\t\tif (listener.enterFile) {\r\n\t\t\tlistener.enterFile(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic exitRule(listener: ExpressionListener): void {\r\n\t\tif (listener.exitFile) {\r\n\t\t\tlistener.exitFile(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic accept<Result>(visitor: ExpressionVisitor<Result>): Result {\r\n\t\tif (visitor.visitFile) {\r\n\t\t\treturn visitor.visitFile(this);\r\n\t\t} else {\r\n\t\t\treturn visitor.visitChildren(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class ExpressionContext extends ParserRuleContext {\r\n\tpublic expression(): ExpressionContext[];\r\n\tpublic expression(i: number): ExpressionContext;\r\n\tpublic expression(i?: number): ExpressionContext | ExpressionContext[] {\r\n\t\tif (i === undefined) {\r\n\t\t\treturn this.getRuleContexts(ExpressionContext);\r\n\t\t} else {\r\n\t\t\treturn this.getRuleContext(i, ExpressionContext);\r\n\t\t}\r\n\t}\r\n\tpublic POW(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.POW, 0); }\r\n\tpublic TIMES(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.TIMES, 0); }\r\n\tpublic DIV(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.DIV, 0); }\r\n\tpublic PLUS(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.PLUS, 0); }\r\n\tpublic MINUS(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.MINUS, 0); }\r\n\tpublic LPAREN(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.LPAREN, 0); }\r\n\tpublic RPAREN(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.RPAREN, 0); }\r\n\tpublic atom(): AtomContext | undefined {\r\n\t\treturn this.tryGetRuleContext(0, AtomContext);\r\n\t}\r\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\r\n\t\tsuper(parent, invokingState);\r\n\t}\r\n\t// @Override\r\n\tpublic get ruleIndex(): number { return ExpressionParser.RULE_expression; }\r\n\t// @Override\r\n\tpublic enterRule(listener: ExpressionListener): void {\r\n\t\tif (listener.enterExpression) {\r\n\t\t\tlistener.enterExpression(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic exitRule(listener: ExpressionListener): void {\r\n\t\tif (listener.exitExpression) {\r\n\t\t\tlistener.exitExpression(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic accept<Result>(visitor: ExpressionVisitor<Result>): Result {\r\n\t\tif (visitor.visitExpression) {\r\n\t\t\treturn visitor.visitExpression(this);\r\n\t\t} else {\r\n\t\t\treturn visitor.visitChildren(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class AtomContext extends ParserRuleContext {\r\n\tpublic scientific(): ScientificContext | undefined {\r\n\t\treturn this.tryGetRuleContext(0, ScientificContext);\r\n\t}\r\n\tpublic variable(): VariableContext | undefined {\r\n\t\treturn this.tryGetRuleContext(0, VariableContext);\r\n\t}\r\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\r\n\t\tsuper(parent, invokingState);\r\n\t}\r\n\t// @Override\r\n\tpublic get ruleIndex(): number { return ExpressionParser.RULE_atom; }\r\n\t// @Override\r\n\tpublic enterRule(listener: ExpressionListener): void {\r\n\t\tif (listener.enterAtom) {\r\n\t\t\tlistener.enterAtom(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic exitRule(listener: ExpressionListener): void {\r\n\t\tif (listener.exitAtom) {\r\n\t\t\tlistener.exitAtom(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic accept<Result>(visitor: ExpressionVisitor<Result>): Result {\r\n\t\tif (visitor.visitAtom) {\r\n\t\t\treturn visitor.visitAtom(this);\r\n\t\t} else {\r\n\t\t\treturn visitor.visitChildren(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class ScientificContext extends ParserRuleContext {\r\n\tpublic SCIENTIFIC_NUMBER(): TerminalNode { return this.getToken(ExpressionParser.SCIENTIFIC_NUMBER, 0); }\r\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\r\n\t\tsuper(parent, invokingState);\r\n\t}\r\n\t// @Override\r\n\tpublic get ruleIndex(): number { return ExpressionParser.RULE_scientific; }\r\n\t// @Override\r\n\tpublic enterRule(listener: ExpressionListener): void {\r\n\t\tif (listener.enterScientific) {\r\n\t\t\tlistener.enterScientific(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic exitRule(listener: ExpressionListener): void {\r\n\t\tif (listener.exitScientific) {\r\n\t\t\tlistener.exitScientific(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic accept<Result>(visitor: ExpressionVisitor<Result>): Result {\r\n\t\tif (visitor.visitScientific) {\r\n\t\t\treturn visitor.visitScientific(this);\r\n\t\t} else {\r\n\t\t\treturn visitor.visitChildren(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class VariableContext extends ParserRuleContext {\r\n\tpublic VARIABLE(): TerminalNode { return this.getToken(ExpressionParser.VARIABLE, 0); }\r\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\r\n\t\tsuper(parent, invokingState);\r\n\t}\r\n\t// @Override\r\n\tpublic get ruleIndex(): number { return ExpressionParser.RULE_variable; }\r\n\t// @Override\r\n\tpublic enterRule(listener: ExpressionListener): void {\r\n\t\tif (listener.enterVariable) {\r\n\t\t\tlistener.enterVariable(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic exitRule(listener: ExpressionListener): void {\r\n\t\tif (listener.exitVariable) {\r\n\t\t\tlistener.exitVariable(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic accept<Result>(visitor: ExpressionVisitor<Result>): Result {\r\n\t\tif (visitor.visitVariable) {\r\n\t\t\treturn visitor.visitVariable(this);\r\n\t\t} else {\r\n\t\t\treturn visitor.visitChildren(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class RelopContext extends ParserRuleContext {\r\n\tpublic EQ(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.EQ, 0); }\r\n\tpublic GT(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.GT, 0); }\r\n\tpublic LT(): TerminalNode | undefined { return this.tryGetToken(ExpressionParser.LT, 0); }\r\n\tconstructor(parent: ParserRuleContext | undefined, invokingState: number) {\r\n\t\tsuper(parent, invokingState);\r\n\t}\r\n\t// @Override\r\n\tpublic get ruleIndex(): number { return ExpressionParser.RULE_relop; }\r\n\t// @Override\r\n\tpublic enterRule(listener: ExpressionListener): void {\r\n\t\tif (listener.enterRelop) {\r\n\t\t\tlistener.enterRelop(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic exitRule(listener: ExpressionListener): void {\r\n\t\tif (listener.exitRelop) {\r\n\t\t\tlistener.exitRelop(this);\r\n\t\t}\r\n\t}\r\n\t// @Override\r\n\tpublic accept<Result>(visitor: ExpressionVisitor<Result>): Result {\r\n\t\tif (visitor.visitRelop) {\r\n\t\t\treturn visitor.visitRelop(this);\r\n\t\t} else {\r\n\t\t\treturn visitor.visitChildren(this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n","import { ASTNode, ASTType } from './node';\r\n\r\nexport enum ASTOperator {\r\n    id = 'id',\r\n    plus = '+',\r\n    minus = '-',\r\n    mul = '*',\r\n    div = '/',\r\n    pow = '^'\r\n}\r\nexport class ASTExpressionNode extends ASTNode {\r\n    public operator: ASTOperator;\r\n    public type: ASTType.expression = ASTType.expression;\r\n    \r\n    public constructor(operator: ASTOperator, children: ASTNode[]) {\r\n        super(ASTType.expression, children);\r\n        this.operator = operator;\r\n    }\r\n\r\n}","import { ASTNode, ASTType } from './node';\r\n\r\nexport class ASTSymbolNode extends ASTNode {\r\n    public symbol: string;\r\n    public type: ASTType.symbol = ASTType.symbol;\r\n\r\n    constructor(symbol: string) {\r\n        super(ASTType.symbol, undefined);\r\n        this.symbol = symbol;\r\n        this.name = symbol;\r\n    }\r\n}","import { ASTNode, ASTType } from './node';\r\n\r\nexport class ASTVariableNode extends ASTNode {\r\n    public variable: string;\r\n    public type: ASTType.variable = ASTType.variable;\r\n\r\n    constructor(variable: string) {\r\n        super(ASTType.variable, undefined);\r\n        this.variable = variable;\r\n        this.name = variable;\r\n    }\r\n}","// tslint:disable-next-line:no-submodule-imports\r\nimport { AbstractParseTreeVisitor } from 'antlr4ts/tree/AbstractParseTreeVisitor';\r\n// tslint:disable-next-line:no-submodule-imports\r\nimport { TerminalNode } from 'antlr4ts/tree/TerminalNode';\r\nimport {\r\n    AtomContext, ExpressionContext,\r\n    FileContext, RelopContext, ScientificContext, VariableContext\r\n} from './generated/ExpressionParser';\r\nimport { ExpressionVisitor } from './generated/ExpressionVisitor';\r\nimport { ASTExpressionNode, ASTOperator } from './nodes/expressionNode';\r\nimport { ASTNode, ASTType } from './nodes/node';\r\nimport { ASTNullNode } from './nodes/nullNode';\r\nimport { ASTNumberNode } from './nodes/numberNode';\r\nimport { ASTSymbolNode } from './nodes/symbolNode';\r\nimport { ASTVariableNode } from './nodes/variableNode';\r\n\r\nexport class ASTVisitor\r\n    extends AbstractParseTreeVisitor<ASTNode[]>\r\n    implements ExpressionVisitor<ASTNode[]> {\r\n\r\n    public defaultResult() {\r\n        return [];\r\n    }\r\n\r\n    public aggregateResult(aggregate: ASTNode[], nextResult: ASTNode[]) {\r\n        return [...aggregate, ...nextResult];\r\n    }\r\n\r\n    public visitVariable(context: VariableContext): ASTNode[] {\r\n        return [new ASTVariableNode(context.text)];\r\n    }\r\n\r\n    public visitScientific(context: ScientificContext): ASTNode[] {\r\n        return [new ASTNumberNode(parseFloat(context.text))];\r\n    }\r\n\r\n    public visitAtom(context: AtomContext): ASTNode[] {\r\n        return super.visitChildren(context);\r\n    }\r\n\r\n    public visitExpression(context: ExpressionContext): ASTNode[] {\r\n        const children = super.visitChildren(context);\r\n\r\n        /* if (context.children) {\r\n            if (children.length === 1 && context.children[0].text === '(') {\r\n                return children;\r\n            }\r\n        } */\r\n        // if (children.length === 1) {\r\n        return [new ASTExpressionNode(ASTOperator.id, children)];\r\n        // } else if (children.length === 2) {\r\n        //     if (children[0].type === ASTType.symbol) {\r\n        //         switch(children[0].type.)\r\n        //     }\r\n        // }\r\n    }\r\n    \r\n    public visitFile(context: FileContext): ASTNode[] {\r\n        return super.visitChildren(context);\r\n    }\r\n\r\n    public visitRelop(context: RelopContext): ASTNode[] {\r\n        return super.visitChildren(context);\r\n    }\r\n\r\n    public visitTerminal(node: TerminalNode) {\r\n        if (node.symbol.text) {\r\n            return [new ASTSymbolNode(node.symbol.text)];\r\n        }\r\n        return [];\r\n    }\r\n}","import { ANTLRInputStream, CommonToken, CommonTokenStream } from 'antlr4ts';\r\nimport { ErrorListener } from './errorListener';\r\nimport { ExpressionLexer } from './generated/ExpressionLexer';\r\nimport { ExpressionParser, FileContext } from './generated/ExpressionParser';\r\nimport { ASTVisitor } from './visitor';\r\n\r\nexport class Parser {\r\n\r\n    private _tree: FileContext;\r\n    private _parser: ExpressionParser;\r\n    private _lexer: ExpressionLexer;\r\n    private _errorListener: ErrorListener;\r\n\r\n    public constructor(str: string) {\r\n        this._errorListener = new ErrorListener();\r\n        // Create the lexer and parser\r\n        const inputStream = new ANTLRInputStream(str);\r\n        this._lexer = new ExpressionLexer(inputStream);\r\n        const tokenStream = new CommonTokenStream(this._lexer);\r\n        this._parser = new ExpressionParser(tokenStream);\r\n        this._parser.addErrorListener(this._errorListener);\r\n\r\n        // Parse the input, where `compilationUnit` is whatever entry point you defined\r\n        this._tree = this._parser.file();\r\n        if (this._errorListener.errors.length > 0) {\r\n            throw this._errorListener.errors;\r\n        }\r\n    }\r\n\r\n    public toString() {\r\n        return this._tree.toStringTree(this._parser.ruleNames);\r\n    }\r\n\r\n    public getTree() {\r\n        const visitor = new ASTVisitor();\r\n        return visitor.visit(this._tree);\r\n    }\r\n\r\n    public getRuleNames() {\r\n        return this._parser.ruleNames;\r\n    }\r\n}","import { printNode } from '../engine/printing';\r\nimport { NodeType, simplifyInput } from '../engine/simplification';\r\nimport { ParserError } from '../parsing/errorListener';\r\nimport { Parser } from '../parsing/parser';\r\nimport { clearHistory as clearConsoleHistory } from '../stores/console/actionCreators';\r\nimport store from '../stores/store';\r\nimport { clearHistory as clearTreeHistory, updateTree } from '../stores/tree/actionCreators';\r\nimport { getTree } from '../stores/tree/selectors';\r\n\r\nexport function execute(input: string): { output: string, error?: string } | undefined {\r\n    const tokens = input.split(' ');\r\n    switch (tokens[0]) {\r\n        case '/clear':\r\n            store.dispatch(clearConsoleHistory());\r\n            store.dispatch(clearTreeHistory());\r\n            return;\r\n        case '/parse':\r\n            try {\r\n                const parser = new Parser(tokens.slice(1).join(' '));\r\n                store.dispatch(updateTree(parser.getTree(), parser.getRuleNames()));\r\n                return { output: 'parsed: ' + parser.toString() };\r\n            } catch (err) {\r\n                return { output: '', error: err.map((e: ParserError) => e.message).join('\\n') };\r\n            }\r\n        case '/simplify':\r\n            const tree = getTree(store.getState());\r\n            if (tree) {\r\n                const newTree = simplifyInput(tree.tree[0] as NodeType);\r\n                if (newTree) {\r\n                    store.dispatch(updateTree([newTree], tree.ruleNames));\r\n                }\r\n                return { output: 'Simplified to: ' + printNode(newTree as NodeType) };\r\n            } else {\r\n                return { output: '', error: `Nothing to simplify` };\r\n            }\r\n        default:\r\n            return { output: '', error: `Command '${tokens[0]}' not recognized` };\r\n    }\r\n\r\n}","// tslint:disable-next-line:no-submodule-imports\r\nimport { all, call, put, putResolve, select, takeEvery } from 'redux-saga/effects';\r\nimport * as consoleCache from '../../cache/consoleCache';\r\nimport * as inputHandler from '../../inputHandling/inputHandler';\r\nimport { addToInputHistory, addToLog, saveHistory as saveHistoryAction, setHistory } from './actionCreators';\r\nimport { ActionTypeNames, ExecuteInputAction } from './actions';\r\nimport { getInputHistory, getLines } from './selectors';\r\n\r\nfunction* watchExecuteInput() {\r\n    yield takeEvery(ActionTypeNames.ExecuteInput, executeInput);\r\n}\r\n\r\nfunction* executeInput(action: ExecuteInputAction) {\r\n    yield all([\r\n        putResolve(addToLog({ isInput: true, line: action.input, isError: false })),\r\n        putResolve(addToInputHistory(action.input))\r\n    ]);\r\n\r\n    const res: { output: string, error?: string } | undefined = yield call(inputHandler.execute, action.input);\r\n\r\n    if (res) {\r\n        const { output, error } = res;\r\n        if (error) {\r\n            yield all(\r\n                error.split('\\n').map(\r\n                    (line) => putResolve(\r\n                        addToLog({ isInput: false, line, isError: true })\r\n                    )\r\n                )\r\n            );\r\n        } else {\r\n            yield all(\r\n                output.split('\\n').map(\r\n                    (line) => putResolve(\r\n                        addToLog({ isInput: false, line, isError: false })\r\n                    )\r\n                )\r\n            );\r\n        }\r\n    }\r\n\r\n    yield put(saveHistoryAction());\r\n}\r\n\r\nfunction* watchLoadHistory() {\r\n    yield takeEvery(ActionTypeNames.LoadHistory, loadHistory);\r\n}\r\n\r\nexport function* loadHistory() {\r\n    const state = yield call(consoleCache.loadHistory);\r\n    yield putResolve(setHistory(state));\r\n}\r\n\r\nfunction* watchClearHistory() {\r\n    yield takeEvery(ActionTypeNames.ClearHistory, clearHistory);\r\n}\r\n\r\nfunction* clearHistory() {\r\n    yield putResolve(setHistory({ lines: [], inputHistory: [] }));\r\n    yield put(saveHistoryAction());\r\n}\r\n\r\nfunction* watchSaveHistory() {\r\n    yield takeEvery(ActionTypeNames.SaveHistory, saveHistory);\r\n}\r\n\r\nfunction* saveHistory() {\r\n    const lines = yield select(getLines);\r\n    const inputHistory = yield select(getInputHistory);\r\n\r\n    yield call(consoleCache.saveHistory, { lines, inputHistory });\r\n}\r\n\r\nexport default [watchExecuteInput, watchLoadHistory, watchSaveHistory, watchClearHistory];","import State from '../stores/tree/state';\r\n\r\nexport function saveHistory(history: State) {\r\n    localStorage.setItem('treeCache', JSON.stringify(history));\r\n}\r\n\r\nexport function loadHistory() {\r\n    const history = localStorage.getItem('treeCache');\r\n    if (history) {\r\n        return JSON.parse(history) as State;\r\n    } else {\r\n        return { history: [], index: -1 };\r\n    }\r\n}","// tslint:disable-next-line:no-submodule-imports\r\nimport { all, call, put, putResolve, select, takeEvery } from 'redux-saga/effects';\r\nimport * as treeCache from '../../cache/treeCache';\r\nimport * as inputHandler from '../../inputHandling/inputHandler';\r\nimport { addToHistory, saveHistory as saveHistoryAction, setHistory } from './actionCreators';\r\nimport { ActionTypeNames, UpdateTreeAction } from './actions';\r\n\r\nfunction* watchUpdateTree() {\r\n    yield takeEvery(ActionTypeNames.UpdateTree, updateTree);\r\n}\r\n\r\nfunction* updateTree(action: UpdateTreeAction) {\r\n    yield putResolve(addToHistory(action.tree, action.ruleNames));\r\n    yield put(saveHistoryAction());\r\n}\r\n\r\nfunction* watchLoadHistory() {\r\n    yield takeEvery(ActionTypeNames.LoadHistory, loadHistory);\r\n}\r\n\r\nexport function* loadHistory() {\r\n    const state = yield call(treeCache.loadHistory);\r\n    yield putResolve(setHistory(state));\r\n}\r\n\r\nfunction* watchClearHistory() {\r\n    yield takeEvery(ActionTypeNames.ClearHistory, clearHistory);\r\n}\r\n\r\nfunction* clearHistory() {\r\n    yield putResolve(setHistory({ history: [], index: -1 }));\r\n    yield put(saveHistoryAction());\r\n}\r\n\r\nfunction* watchSaveHistory() {\r\n    yield takeEvery(ActionTypeNames.SaveHistory, saveHistory);\r\n}\r\n\r\nfunction* saveHistory() {\r\n    const treeState = yield select((state) => state.tree);\r\n\r\n    yield call(treeCache.saveHistory, treeState);\r\n}\r\n\r\nexport default [watchUpdateTree, watchLoadHistory, watchSaveHistory, watchClearHistory];","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport createSagaMiddleware from 'redux-saga';\r\n// tslint:disable-next-line:no-submodule-imports\r\nimport { all, fork } from 'redux-saga/effects';\r\n\r\nimport consoleReducer from './console/reducer';\r\nimport treeReducer from './tree/reducer';\r\n\r\nimport consoleSagas, { loadHistory as loadConsoleHistory } from './console/sagas';\r\nimport treeSagas, { loadHistory as loadTreeHistory } from './tree/sagas';\r\n\r\n// Import all watching sagas\r\nconst watchSagas = [...consoleSagas, ...treeSagas];\r\n\r\n// Set up root reducer\r\nconst reducers = {\r\n    console: consoleReducer,\r\n    tree: treeReducer,\r\n};\r\n\r\nconst rootReducer = combineReducers(reducers);\r\n\r\nexport type RootState = {\r\n    [P in keyof typeof reducers]: ReturnType<typeof reducers[P]>;\r\n};\r\n\r\nfunction* rootSaga() {\r\n    // initialize data\r\n    yield fork(loadConsoleHistory);\r\n    yield fork(loadTreeHistory);\r\n\r\n    yield all(watchSagas.map((saga) => saga()));\r\n}\r\n\r\n// Create store\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst store = createStore(\r\n    rootReducer, process.env.NODE_ENV === 'development' ?\r\n        composeWithDevTools(applyMiddleware(sagaMiddleware)) :\r\n        applyMiddleware(sagaMiddleware)\r\n);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport './App.scss';\r\nimport Topbar from './components/top/Topbar';\r\n\r\nimport ConsoleView from './components/console/ConsoleView';\r\nimport TreeView from './components/tree/TreeView';\r\nimport { addToLog } from './stores/console/actionCreators';\r\nimport store from './stores/store';\r\n\r\nexport default class App extends React.Component {\r\n    public componentDidCatch(error: Error, info: React.ErrorInfo) {\r\n        // tslint:disable-next-line:no-console\r\n        console.error(error, error.stack, info.componentStack);\r\n        store.dispatch(addToLog({\r\n            isError: true,\r\n            isInput: false,\r\n            line: error.message,\r\n        }));\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <Provider store={store}>\r\n                <React.Fragment>\r\n                    <Topbar><h3>Test</h3></Topbar>\r\n                    <TreeView />\r\n                    <ConsoleView />\r\n                </React.Fragment>\r\n            </Provider>\r\n        );\r\n    }\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faArrowRight, faRedo, faTrashAlt, faUndo } from '@fortawesome/free-solid-svg-icons';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nlibrary.add({\r\n    faArrowRight,\r\n    faRedo,\r\n    faTrashAlt,\r\n    faUndo,\r\n});\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}